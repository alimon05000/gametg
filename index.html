<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0a1e15">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ĞĞ°Ğ¼Ğ°Ğ·">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="description" content="Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ° Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° Ñ ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¼Ğ¸ Ğ¸ Ğ²ĞµÑ‡ĞµÑ€Ğ½Ğ¸Ğ¼Ğ¸ Ğ°Ğ·ĞºĞ°Ñ€Ğ°Ğ¼Ğ¸">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/apple-icon-180.png">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    
    <title>Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ° Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap');
        
        :root {
            /* ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ†Ğ²ĞµÑ‚Ğ° Ñ‚ĞµĞ¼Ñ‹ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ (Ğ˜Ğ·ÑƒĞ¼Ñ€ÑƒĞ´Ğ½Ğ°Ñ) */
            --primary-dark: #051a12;
            --primary-color: #0d5e3f;
            --secondary-color: #f0e6d2;
            --gold-color: #c9a769;
            --text-light: rgba(255, 255, 255, 0.95);
            --text-dark: #1a1a1a;
            --current-prayer-color: #4CAF50;
            --glass-bg: rgba(5, 26, 18, 0.18);
            --glass-border: rgba(201, 167, 105, 0.12);
            --glass-highlight: rgba(255, 255, 255, 0.15);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
            --card-bg: rgba(255, 255, 255, 0.1);
            --liquid-shine: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.05) 45%,
                rgba(255, 255, 255, 0) 55%,
                rgba(255, 255, 255, 0.03) 100%
            );
            --theme-name: "Ğ˜Ğ·ÑƒĞ¼Ñ€ÑƒĞ´Ğ½Ğ°Ñ";
            --theme-icon: "ğŸŒ¿";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%230d5e3f' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* Ğ¡Ğ°Ğ¿Ñ„Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ Ñ‚ĞµĞ¼Ğ° */
        .theme-sapphire {
            --primary-dark: #0a1026;
            --primary-color: #1a3a8f;
            --secondary-color: #e0e7ff;
            --gold-color: #8a9eff;
            --current-prayer-color: #5d8aff;
            --glass-bg: rgba(10, 16, 38, 0.18);
            --glass-border: rgba(138, 158, 255, 0.12);
            --card-bg: rgba(255, 255, 255, 0.08);
            --theme-name: "Ğ¡Ğ°Ğ¿Ñ„Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ";
            --theme-icon: "ğŸ”·";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%231a3a8f' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* Ğ‘Ğ¾Ñ€Ğ´Ğ¾Ğ²Ğ°Ñ Ñ‚ĞµĞ¼Ğ° */
        .theme-burgundy {
            --primary-dark: #1a0a12;
            --primary-color: #6e1d45;
            --secondary-color: #ffd6e7;
            --gold-color: #d48a9e;
            --current-prayer-color: #c44569;
            --glass-bg: rgba(26, 10, 18, 0.18);
            --glass-border: rgba(212, 138, 158, 0.12);
            --card-bg: rgba(255, 255, 255, 0.07);
            --theme-name: "Ğ‘Ğ¾Ñ€Ğ´Ğ¾Ğ²Ğ°Ñ";
            --theme-icon: "ğŸŒ¹";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%236e1d45' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* Ğ¯Ğ½Ñ‚Ğ°Ñ€Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ° */
        .theme-amber {
            --primary-dark: #1a1205;
            --primary-color: #8f6a1a;
            --secondary-color: #fff4e0;
            --gold-color: #ffc96b;
            --current-prayer-color: #ffaa33;
            --glass-bg: rgba(26, 18, 5, 0.18);
            --glass-border: rgba(255, 201, 107, 0.12);
            --card-bg: rgba(255, 255, 255, 0.09);
            --theme-name: "Ğ¯Ğ½Ñ‚Ğ°Ñ€Ğ½Ğ°Ñ";
            --theme-icon: "ğŸ¯";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%238f6a1a' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        
        /* ĞĞ¾Ğ²Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹ Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ° */
        .compass-theme-emerald {
            --compass-bg: rgba(13, 94, 63, 0.1);
            --compass-border: #0d5e3f;
            --compass-arrow: #c9a769;
            --compass-needle: #e74c3c;
            --compass-text: #f0e6d2;
        }
        
        .compass-theme-sapphire {
            --compass-bg: rgba(26, 58, 143, 0.1);
            --compass-border: #1a3a8f;
            --compass-arrow: #8a9eff;
            --compass-needle: #e74c3c;
            --compass-text: #e0e7ff;
        }
        
        .compass-theme-burgundy {
            --compass-bg: rgba(110, 29, 69, 0.1);
            --compass-border: #6e1d45;
            --compass-arrow: #d48a9e;
            --compass-needle: #e74c3c;
            --compass-text: #ffd6e7;
        }
        
        .compass-theme-amber {
            --compass-bg: rgba(143, 106, 26, 0.1);
            --compass-border: #8f6a1a;
            --compass-arrow: #ffc96b;
            --compass-needle: #e74c3c;
            --compass-text: #fff4e0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            min-height: 100vh;
            font-family: 'Scheherazade New', serif;
            background: var(--primary-dark);
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            perspective: 1000px;
            transition: all 0.5s ease;
            position: relative;
            padding-top: env(safe-area-inset-top, 0px);
            padding-bottom: env(safe-area-inset-bottom, 0px);
        }
        
        /* Ğ£Ğ·Ğ¾Ñ€ Ñ„Ğ¾Ğ½Ğ° Ğ´Ğ»Ñ Ñ‚ĞµĞ¼Ñ‹ */
        body::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--theme-pattern);
            opacity: 0.3;
            z-index: -2;
            pointer-events: none;
        }
        
        .liquid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(var(--primary-rgb), 0.1) 0%, transparent 25%),
                radial-gradient(circle at 80% 70%, rgba(var(--gold-rgb), 0.08) 0%, transparent 25%);
            z-index: -1;
            overflow: hidden;
            transition: all 0.5s ease;
        }
        
        .liquid-element {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(var(--gold-rgb), 0.08), transparent 70%);
            filter: blur(60px);
            opacity: 0.3;
            animation: float 15s infinite linear;
            z-index: -1;
            transition: all 0.5s ease;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, 30px) scale(1.1); }
            66% { transform: translate(-30px, 40px) scale(0.9); }
            100% { transform: translate(0, 0) scale(1); }
        }
        
        .container {
            position: relative;
            z-index: 10;
            width: 95%;
            max-width: 850px;
            background: var(--glass-bg);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-radius: 24px;
            padding: 30px;
            text-align: center;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transform-style: preserve-3d;
            margin: 20px 0;
            overflow: hidden;
            transition: transform 0.5s ease, box-shadow 0.5s ease;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) skewX(-15deg); }
            100% { transform: translateX(100%) skewX(-15deg); }
        }
        
        h1 {
            font-family: 'Amiri', serif;
            font-size: clamp(1.8rem, 4vw, 2.8rem);
            margin-bottom: 20px;
            color: var(--gold-color);
            text-shadow: 0 2px 10px rgba(var(--gold-rgb), 0.2);
            letter-spacing: 1px;
            position: relative;
            font-weight: 700;
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 25%;
            width: 50%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold-color), transparent);
            animation: titleGlow 3s infinite;
        }
        
        @keyframes titleGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }
        
        .select-wrapper {
            position: relative;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            transform: translateZ(0);
        }
        
        select {
            width: 100%;
            padding: 14px 20px;
            font-size: 1rem;
            background: rgba(var(--primary-rgb), 0.25);
            border: 1px solid rgba(var(--gold-rgb), 0.25);
            border-radius: 12px;
            color: var(--text-light);
            cursor: pointer;
            appearance: none;
            outline: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            font-family: 'Scheherazade New', serif;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }
        
        select:hover {
            background: rgba(var(--primary-rgb), 0.35);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        
        .prayer-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
            margin: 25px 0;
            perspective: 1000px;
        }
        
        .prayer-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid var(--glass-border);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 
                0 4px 30px rgba(0, 0, 0, 0.1),
                inset 0 0 16px rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transform: translateZ(0);
            z-index: 1;
        }
        
        .prayer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            animation-delay: calc(var(--i) * 0.5s);
            opacity: 0.6;
            border-radius: inherit;
        }
        
        .prayer-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 1px solid transparent;
            border-radius: inherit;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.1) 0%,
                rgba(255, 255, 255, 0) 20%,
                rgba(255, 255, 255, 0) 80%,
                rgba(255, 255, 255, 0.1) 100%
            );
            pointer-events: none;
            mask: 
                linear-gradient(#fff 0 0) content-box, 
                linear-gradient(#fff 0 0);
            mask-composite: exclude;
            -webkit-mask: 
                linear-gradient(#fff 0 0) content-box, 
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            padding: 1px;
        }
        
        .prayer-card.current {
            background: linear-gradient(
                135deg,
                rgba(var(--current-prayer-rgb), 0.2),
                rgba(var(--primary-rgb), 0.3)
            );
            border-color: rgba(var(--current-prayer-rgb), 0.3);
            box-shadow: 
                0 0 25px rgba(var(--current-prayer-rgb), 0.25),
                inset 0 0 16px rgba(var(--current-prayer-rgb), 0.1);
            animation: pulseGlow 3s infinite alternate;
        }
        
        @keyframes pulseGlow {
            0% { 
                box-shadow: 
                    0 0 15px rgba(var(--current-prayer-rgb), 0.25),
                    inset 0 0 16px rgba(var(--current-prayer-rgb), 0.1);
            }
            100% { 
                box-shadow: 
                    0 0 30px rgba(var(--current-prayer-rgb), 0.4),
                    inset 0 0 16px rgba(var(--current-prayer-rgb), 0.2);
            }
        }
        
        .prayer-name {
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--gold-color);
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
        }
        
        .prayer-time {
            font-size: 1.5rem;
            font-family: 'Amiri', serif;
            margin-bottom: 6px;
            position: relative;
            z-index: 2;
        }
        
        .time-remaining {
            font-size: 0.9rem;
            color: var(--gold-color);
            margin: 6px 0;
            font-family: 'Amiri', serif;
            position: relative;
            z-index: 2;
        }
        
        .additional-info {
            font-size: 0.8rem;
            color: var(--secondary-color);
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }
        
        .next-prayer-info {
            margin: 20px 0;
            padding: 16px;
            background: rgba(var(--primary-rgb), 0.25);
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            font-size: 1rem;
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .next-prayer-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            animation-delay: 0.3s;
            opacity: 0.6;
            border-radius: inherit;
        }
        
        .next-prayer-name {
            color: var(--gold-color);
            font-weight: bold;
        }
        
        .next-prayer-time {
            font-family: 'Amiri', serif;
            font-size: 1.2rem;
        }
        
        /* ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ Ñ‚ĞµĞ¼ - Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ´Ğ»Ñ PWA */
        .theme-switcher {
            position: fixed;
            top: calc(10px + env(safe-area-inset-top, 0px));
            right: 10px;
            display: flex;
            gap: 8px;
            z-index: 100;
            background: rgba(var(--primary-dark-rgb), 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 8px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .theme-switcher:hover {
            background: rgba(var(--primary-dark-rgb), 0.9);
        }
        
        .theme-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .theme-btn::after {
            content: attr(data-theme) " " var(--theme-icon);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            white-space: nowrap;
            opacity: 0;
            transition: all 0.3s ease;
            color: var(--text-light);
            background: rgba(var(--primary-dark-rgb), 0.9);
            padding: 4px 8px;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(5px);
            width: max-content;
        }
        
        .theme-btn:hover::after {
            bottom: -40px;
            opacity: 1;
        }
        
        .theme-btn.active {
            transform: scale(1.1);
            box-shadow: 0 0 0 2px var(--gold-color);
        }
        
        /* Ğ¦Ğ²ĞµÑ‚Ğ° ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº Ñ‚ĞµĞ¼ */
        .theme-btn[data-theme="emerald"] {
            background: linear-gradient(135deg, #0d5e3f, #0a1e15);
        }
        
        .theme-btn[data-theme="sapphire"] {
            background: linear-gradient(135deg, #1a3a8f, #0a1026);
        }
        
        .theme-btn[data-theme="burgundy"] {
            background: linear-gradient(135deg, #6e1d45, #1a0a12);
        }
        
        .theme-btn[data-theme="amber"] {
            background: linear-gradient(135deg, #8f6a1a, #1a1205);
        }
        
        /* Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€ Ğ°Ğ·ĞºĞ°Ñ€Ğ¾Ğ² */
        .azkar-switcher {
            position: relative;
            margin: 30px auto;
            width: 90%;
            max-width: 400px;
            height: 60px;
            background: rgba(var(--primary-rgb), 0.2);
            border-radius: 30px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.1),
                0 4px 30px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 5px;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
            user-select: none;
        }
        
        .azkar-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            color: var(--secondary-color);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 2;
            min-width: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .azkar-option.active {
            color: var(--gold-color);
        }
        
        .azkar-slider {
            position: absolute;
            top: 5px;
            height: calc(100% - 10px);
            background: linear-gradient(
                135deg,
                rgba(var(--gold-rgb), 0.3),
                rgba(var(--gold-rgb), 0.2)
            );
            border-radius: 25px;
            box-shadow: 
                0 4px 20px rgba(var(--gold-rgb), 0.2),
                inset 0 0 10px rgba(255, 255, 255, 0.1);
            transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            z-index: 1;
            backdrop-filter: blur(5px);
            overflow: hidden;
            will-change: transform;
            width: calc(33.333% - 10px);
            left: 5px;
        }
        
        .azkar-slider::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            animation: shine 8s infinite;
            opacity: 0.5;
        }
        
        /* ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ñ Ğ°Ğ·ĞºĞ°Ñ€Ğ°Ğ¼Ğ¸ */
        .azkar-container {
            display: none;
            margin: 20px 0;
            padding: 20px;
            background: rgba(var(--primary-dark-rgb), 0.3);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .azkar-container.active {
            display: block;
        }
        
        .azkar-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            opacity: 0.3;
        }
        
        .azkar-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.1),
                inset 0 0 10px rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .azkar-item:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.15),
                inset 0 0 15px rgba(255, 255, 255, 0.1);
        }
        
        .azkar-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            opacity: 0.2;
        }
        
        .azkar-text {
            font-size: 1.2rem;
            line-height: 1.6;
            color: var(--text-light);
            margin-bottom: 10px;
            font-family: 'Amiri', serif;
            text-align: right;
            direction: rtl;
        }
        
        .azkar-translation {
            font-size: 1rem;
            color: var(--secondary-color);
            line-height: 1.5;
            margin-bottom: 8px;
        }
        
        .azkar-reference {
            font-size: 0.8rem;
            color: var(--gold-color);
            font-style: italic;
        }
        
        .ayah-container {
            margin: 20px 0;
            position: relative;
            z-index: 2;
        }
        
        .ayah {
            font-size: 1.8rem;
            line-height: 1.6;
            color: var(--gold-color);
            font-family: 'Amiri', serif;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .ayah-translation {
            font-size: 1rem;
            margin-top: 12px;
            color: var(--secondary-color);
            opacity: 0.9;
        }
        
        .notify-btn {
            background: rgba(var(--gold-rgb), 0.15);
            color: var(--gold-color);
            border: 1px solid rgba(var(--gold-rgb), 0.3);
            padding: 14px 32px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.15),
                inset 0 0 12px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            font-weight: bold;
            z-index: 2;
        }
        
        .notify-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--liquid-shine);
            transition: 0.6s;
            z-index: -1;
        }
        
        .notify-btn:hover {
            background: rgba(var(--gold-rgb), 0.25);
            box-shadow: 
                0 6px 20px rgba(var(--gold-rgb), 0.2),
                inset 0 0 16px rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .notify-btn:hover::before {
            left: 100%;
        }

        .notify-btn.active {
            background: rgba(var(--current-prayer-rgb), 0.2);
            border-color: rgba(var(--current-prayer-rgb), 0.3);
            color: #fff;
        }
        
        .install-btn {
            background: rgba(var(--gold-rgb), 0.15);
            color: var(--gold-color);
            border: 1px solid rgba(var(--gold-rgb), 0.3);
            padding: 14px 32px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.15),
                inset 0 0 12px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            font-weight: bold;
            z-index: 2;
            display: none;
            animation: pulse 2s infinite;
        }
        
        .install-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--liquid-shine);
            transition: 0.6s;
            z-index: -1;
        }
        
        .install-btn:hover {
            background: rgba(var(--gold-rgb), 0.25);
            box-shadow: 
                0 6px 20px rgba(var(--gold-rgb), 0.2),
                inset 0 0 16px rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .install-btn:hover::before {
            left: 100%;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ° ĞšĞ°Ğ°Ğ±Ñ‹ */
        .qibla-container {
            margin: 20px 0;
            padding: 20px;
            background: rgba(var(--primary-dark-rgb), 0.3);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .qibla-compass {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            position: relative;
            border-radius: 50%;
            background: var(--compass-bg, rgba(0, 0, 0, 0.2));
            border: 2px solid var(--compass-border, var(--gold-color));
            box-shadow: 0 0 20px rgba(var(--gold-rgb), 0.3);
            transition: all 0.3s ease;
        }

        .compass-face {
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="none" stroke="%23c9a769" stroke-width="1"/><path d="M50 10 L52 20 L48 20 Z" fill="%23c9a769"/><text x="50" y="25" text-anchor="middle" fill="%23c9a769" font-size="8">N</text><path d="M50 90 L52 80 L48 80 Z" fill="%23c9a769"/><text x="50" y="85" text-anchor="middle" fill="%23c9a769" font-size="8">S</text><path d="M10 50 L20 52 L20 48 Z" fill="%23c9a769"/><text x="15" y="55" text-anchor="middle" fill="%23c9a769" font-size="8">W</text><path d="M90 50 L80 52 L80 48 Z" fill="%23c9a769"/><text x="85" y="55" text-anchor="middle" fill="%23c9a769" font-size="8">E</text></svg>');
            background-size: contain;
            position: relative;
            border-radius: 50%;
            transition: transform 0.5s ease;
        }

        .compass-arrow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60%;
            height: 60%;
            transform: translate(-50%, -50%);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 10 L60 90 L50 70 L40 90 Z" fill="%23c9a769"/><circle cx="50" cy="50" r="10" fill="%230d5e3f"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            filter: drop-shadow(0 0 5px rgba(201, 167, 105, 0.7));
            transition: transform 0.1s ease;
        }

        .compass-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            height: 80%;
            transform: translate(-50%, -50%);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="5" fill="%23e74c3c"/><path d="M50 10 L52 45 L48 45 Z" fill="%23e74c3c"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
        }

        .qibla-info {
            margin-top: 15px;
            font-size: 1rem;
            color: var(--secondary-color);
        }

        .qibla-degree {
            font-weight: bold;
            color: var(--gold-color);
        }

        .location-status {
            font-size: 0.8rem;
            color: var(--secondary-color);
            margin-top: 5px;
            font-style: italic;
        }

        .compass-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .compass-btn {
            background: rgba(var(--gold-rgb), 0.15);
            color: var(--gold-color);
            border: 1px solid rgba(var(--gold-rgb), 0.3);
            padding: 8px 16px;
            font-size: 0.9rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .compass-btn:hover {
            background: rgba(var(--gold-rgb), 0.25);
        }

        .compass-btn.active {
            background: rgba(var(--current-prayer-rgb), 0.2);
            border-color: rgba(var(--current-prayer-rgb), 0.3);
            color: #fff;
        }
        
        /* ĞĞ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ñ… ÑĞºÑ€Ğ°Ğ½Ğ¾Ğ² */
        @media (max-width: 480px) {
            .azkar-switcher {
                height: 50px;
            }
            
            .azkar-option {
                font-size: 0.9rem;
                padding: 8px 5px;
            }
            
            .prayer-times {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .notify-btn, .install-btn {
                padding: 12px 24px;
                font-size: 0.9rem;
            }

            .theme-switcher {
                top: calc(10px + env(safe-area-inset-top, 0px));
                right: 10px;
                gap: 5px;
                padding: 6px;
            }
            
            .theme-btn {
                width: 30px;
                height: 30px;
                font-size: 14px;
            }
            
            .theme-btn::after {
                font-size: 0.6rem;
                bottom: -35px;
            }
            
            .theme-btn:hover::after {
                bottom: -40px;
            }

            .qibla-compass {
                width: 150px;
                height: 150px;
            }

            .compass-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }
        
        @media (min-width: 768px) {
            .container {
                padding: 40px;
                border-radius: 28px;
            }
            
            .prayer-card {
                padding: 20px;
                border-radius: 20px;
            }
            
            .prayer-name {
                font-size: 1.2rem;
            }
            
            .prayer-time {
                font-size: 1.8rem;
            }
            
            .next-prayer-info {
                padding: 20px;
                border-radius: 20px;
            }
            
            .azkar-container {
                padding: 30px;
                border-radius: 25px;
            }
            
            .azkar-item {
                padding: 20px;
                border-radius: 18px;
            }
            
            .azkar-text {
                font-size: 1.4rem;
            }
        }

        /* Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ PWA Ğ½Ğ° iOS */
        @supports (-webkit-touch-callout: none) {
            body {
                padding-top: env(safe-area-inset-top, 0px);
                padding-bottom: env(safe-area-inset-bottom, 0px);
            }
            
            .container {
                margin-top: calc(20px + env(safe-area-inset-top, 0px));
            }
            
            .theme-switcher {
                top: calc(10px + env(safe-area-inset-top, 0px));
            }
        }
    </style>
</head>
<body>
    <div class="liquid-bg" id="liquid-bg"></div>
    
    <!-- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ Ñ‚ĞµĞ¼ -->
    <div class="theme-switcher">
        <div class="theme-btn active" data-theme="emerald" data-theme-class=""></div>
        <div class="theme-btn" data-theme="sapphire" data-theme-class="theme-sapphire"></div>
        <div class="theme-btn" data-theme="burgundy" data-theme-class="theme-burgundy"></div>
        <div class="theme-btn" data-theme="amber" data-theme-class="theme-amber"></div>
    </div>
    
    <div class="container">
        <h1>Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ° Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°</h1>
        
        <div class="select-wrapper">
            <select id="city-select">
                <option value="">Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´</option>
                <option value="moscow">ĞœĞ¾ÑĞºĞ²Ğ°</option>
                <option value="saint-petersburg">Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³</option>
                <option value="kazan">ĞšĞ°Ğ·Ğ°Ğ½ÑŒ</option>
                <option value="ufa">Ğ£Ñ„Ğ°</option>
                <option value="makhachkala">ĞœĞ°Ñ…Ğ°Ñ‡ĞºĞ°Ğ»Ğ°</option>
                <option value="grozny">Ğ“Ñ€Ğ¾Ğ·Ğ½Ñ‹Ğ¹</option>
                <option value="novosibirsk">ĞĞ¾Ğ²Ğ¾ÑĞ¸Ğ±Ğ¸Ñ€ÑĞº</option>
                <option value="krasnoyarsk">ĞšÑ€Ğ°ÑĞ½Ğ¾ÑÑ€ÑĞº</option>
                <option value="khasavyurt">Ğ¥Ğ°ÑĞ°Ğ²ÑÑ€Ñ‚</option>
                <option value="belidzhi">Ğ‘ĞµĞ»Ğ¸Ğ´Ğ¶Ğ¸</option>
                <option value="ahty">ĞÑ…Ñ‚Ñ‹</option>
                <option value="kabir">ĞšĞ°Ğ±Ğ¸Ñ€</option>
            </select>
        </div>
        
        <div class="prayer-times" id="prayer-times">
            <div class="prayer-card" data-prayer="fajr" style="--i:0">
                <div class="prayer-name">Ğ¤Ğ°Ğ´Ğ¶Ñ€</div>
                <div class="prayer-time" id="fajr-time">--:--</div>
                <div class="time-remaining" id="fajr-remaining"></div>
                <div class="additional-info">18Â° Ğ¿Ğ¾Ğ´ Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ¾Ğ¼</div>
            </div>
            <div class="prayer-card" data-prayer="sunrise" style="--i:1">
                <div class="prayer-name">Ğ’Ğ¾ÑÑ…Ğ¾Ğ´</div>
                <div class="prayer-time" id="sunrise-time">--:--</div>
                <div class="time-remaining" id="sunrise-remaining"></div>
                <div class="additional-info">0Â° Ğ¿Ğ¾Ğ´ Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ¾Ğ¼</div>
            </div>
            <div class="prayer-card" data-prayer="dhuhr" style="--i:2">
                <div class="prayer-name">Ğ—ÑƒÑ…Ñ€</div>
                <div class="prayer-time" id="dhuhr-time">--:--</div>
                <div class="time-remaining" id="dhuhr-remaining"></div>
                <div class="additional-info">ĞŸĞ¾ÑĞ»Ğµ Ğ·ĞµĞ½Ğ¸Ñ‚Ğ°</div>
            </div>
            <div class="prayer-card" data-prayer="asr" style="--i:3">
                <div class="prayer-name">ĞÑÑ€</div>
                <div class="prayer-time" id="asr-time">--:--</div>
                <div class="time-remaining" id="asr-remaining"></div>
                <div class="additional-info">Ğ¢ĞµĞ½ÑŒ = Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñƒ</div>
            </div>
            <div class="prayer-card" data-prayer="maghrib" style="--i:4">
                <div class="prayer-name">ĞœĞ°Ğ³Ñ€Ğ¸Ğ±</div>
                <div class="prayer-time" id="maghrib-time">--:--</div>
                <div class="time-remaining" id="maghrib-remaining"></div>
                <div class="additional-info">Ğ¡Ğ¾Ğ»Ğ½Ñ†Ğµ ÑĞºÑ€Ñ‹Ğ»Ğ¾ÑÑŒ</div>
            </div>
            <div class="prayer-card" data-prayer="isha" style="--i:5">
                <div class="prayer-name">Ğ˜ÑˆĞ°</div>
                <div class="prayer-time" id="isha-time">--:--</div>
                <div class="time-remaining" id="isha-remaining"></div>
                <div class="additional-info">17Â° Ğ¿Ğ¾Ğ´ Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ¾Ğ¼</div>
            </div>
        </div>
        
        <div class="next-prayer-info" id="next-prayer-info">
            Ğ”Ğ¾ <span class="next-prayer-name" id="next-prayer-name">ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ³Ğ¾ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°</span>: 
            <span class="next-prayer-time" id="next-prayer-time">--:--:--</span>
        </div>
        
        <!-- ĞšĞ¾Ğ¼Ğ¿Ğ°Ñ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞšĞ°Ğ°Ğ±Ñ‹ -->
        <div class="qibla-container">
            <div class="qibla-compass">
                <div class="compass-face" id="compass-face">
                    <div class="compass-arrow" id="qibla-arrow"></div>
                    <div class="compass-needle" id="compass-needle"></div>
                </div>
            </div>
            <div class="qibla-info">
                ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° ĞšĞ°Ğ°Ğ±Ñƒ: <span class="qibla-degree" id="qibla-degree">--Â°</span>
                <div class="location-status" id="location-status">Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´</div>
            </div>
            <div class="compass-controls">
                <button class="compass-btn" id="use-gps-btn">Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ GPS</button>
                <button class="compass-btn" id="use-city-btn" disabled>Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ³Ğ¾Ñ€Ğ¾Ğ´</button>
            </div>
        </div>
        
        <!-- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ Ğ°Ğ·ĞºĞ°Ñ€Ğ¾Ğ² -->
        <div class="azkar-switcher" id="azkar-switcher">
            <div class="azkar-slider" id="azkar-slider"></div>
            <div class="azkar-option active" data-target="morning">Ğ£Ñ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ</div>
            <div class="azkar-option" data-target="evening">Ğ’ĞµÑ‡ĞµÑ€Ğ½Ğ¸Ğµ</div>
            <div class="azkar-option" data-target="after-prayer">ĞŸĞ¾ÑĞ»Ğµ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°</div>
        </div>
        
        <!-- ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ñ Ğ°Ğ·ĞºĞ°Ñ€Ğ°Ğ¼Ğ¸ -->
        <div class="azkar-container active" id="morning-azkar">
            <!-- Ğ£Ñ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ Ğ°Ğ·ĞºĞ°Ñ€Ñ‹ -->
            <div class="azkar-item">
                <div class="azkar-text">Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„Ø§Ù Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒØŒ Ø±ÙØ¨ÙÙ‘ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù’ÙŠÙÙˆÙ’Ù…Ù ÙˆÙØ®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØŒ ÙˆÙØ£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù’ÙŠÙÙˆÙ’Ù…Ù ÙˆÙØ´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØŒ Ø±ÙØ¨ÙÙ‘ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’ÙƒÙØ³ÙÙ„Ù ÙˆÙØ³ÙÙˆØ¡Ù Ø§Ù„Ù’ÙƒÙØ¨ÙØ±ÙØŒ Ø±ÙØ¨ÙÙ‘ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù†ÙÙ‘Ø§Ø±Ù ÙˆÙØ¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ø±Ù</div>
                <div class="azkar-translation">"ĞœÑ‹ Ğ¿Ñ€Ğ¾ÑĞ½ÑƒĞ»Ğ¸ÑÑŒ, Ğ¸ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ ĞĞ»Ğ»Ğ°Ñ…Ñƒ, Ğ¸ Ñ…Ğ²Ğ°Ğ»Ğ° ĞĞ»Ğ»Ğ°Ñ…Ñƒ. ĞĞµÑ‚ Ğ±Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ°, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¸ÑˆÑŒ ĞĞ»Ğ»Ğ°Ñ…Ğ°, Ñƒ ĞšĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ½ĞµÑ‚ ÑĞ¾Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸Ñ‰Ğ°. Ğ•Ğ¼Ñƒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ, Ğ¸ Ğ•Ğ¼Ñƒ Ñ…Ğ²Ğ°Ğ»Ğ°, Ğ¸ ĞĞ½ Ğ½Ğ°Ğ´ Ğ²ÑÑĞºĞ¾Ğ¹ Ğ²ĞµÑ‰ÑŒÑ Ğ¼Ğ¾Ñ‰ĞµĞ½. Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ, Ñ Ğ¿Ñ€Ğ¾ÑˆÑƒ Ñƒ Ğ¢ĞµĞ±Ñ Ğ±Ğ»Ğ°Ğ³Ğ° ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ´Ğ½Ñ Ğ¸ Ğ±Ğ»Ğ°Ğ³Ğ° Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½ĞµĞ³Ğ¾, Ğ¸ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ³Ğ°Ñ Ğº Ğ¢ĞµĞ±Ğµ Ğ¾Ñ‚ Ğ·Ğ»Ğ° ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ´Ğ½Ñ Ğ¸ Ğ·Ğ»Ğ° Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½ĞµĞ³Ğ¾. Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ, Ñ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ³Ğ°Ñ Ğº Ğ¢ĞµĞ±Ğµ Ğ¾Ñ‚ Ğ»ĞµĞ½Ğ¸ Ğ¸ Ğ´Ñ€ÑÑ…Ğ»Ğ¾ÑÑ‚Ğ¸ Ğ² ÑÑ‚Ğ°Ñ€Ğ¾ÑÑ‚Ğ¸. Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ, Ñ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ³Ğ°Ñ Ğº Ğ¢ĞµĞ±Ğµ Ğ¾Ñ‚ Ğ¼ÑƒÑ‡ĞµĞ½Ğ¸Ğ¹ Ğ² ĞĞ³Ğ½Ğµ Ğ¸ Ğ¼ÑƒÑ‡ĞµĞ½Ğ¸Ğ¹ Ğ² Ğ¼Ğ¾Ğ³Ğ¸Ğ»Ğµ".</div>
                <div class="azkar-reference">ĞœÑƒÑĞ»Ğ¸Ğ¼ 2723</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙØ­Ù’ÙŠÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙÙ…ÙÙˆØªÙØŒ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù</div>
                <div class="azkar-translation">"Ğ ĞĞ»Ğ»Ğ°Ñ…, Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ Ğ¼Ñ‹ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ĞµĞ¼ ÑƒÑ‚Ñ€Ğ¾, Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ĞµĞ¼ Ğ²ĞµÑ‡ĞµÑ€, Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ Ğ¼Ñ‹ Ğ¶Ğ¸Ğ²Ñ‘Ğ¼ Ğ¸ Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ ÑƒĞ¼Ğ¸Ñ€Ğ°ĞµĞ¼, Ğ¸ Ğº Ğ¢ĞµĞ±Ğµ Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½Ğ¸Ğµ!"</div>
                <div class="azkar-reference">ĞÑ‚-Ğ¢Ğ¸Ñ€Ğ¼Ğ¸Ğ·Ğ¸ 3391</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù</div>
                <div class="azkar-translation">"ĞŸÑ€ĞµÑ‡Ğ¸ÑÑ‚ ĞĞ»Ğ»Ğ°Ñ…, Ğ¸ Ñ…Ğ²Ğ°Ğ»Ğ° Ğ•Ğ¼Ñƒ" (100 Ñ€Ğ°Ğ·)</div>
                <div class="azkar-reference">ĞœÑƒÑĞ»Ğ¸Ğ¼ 2691</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯ÙØŒ ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ</div>
                <div class="azkar-translation">"ĞĞµÑ‚ Ğ±Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ°, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¸ÑˆÑŒ ĞĞ»Ğ»Ğ°Ñ…Ğ°, Ñƒ ĞšĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ½ĞµÑ‚ ÑĞ¾Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸Ñ‰Ğ°. Ğ•Ğ¼Ñƒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ, Ğ¸ Ğ•Ğ¼Ñƒ Ñ…Ğ²Ğ°Ğ»Ğ°, Ğ¸ ĞĞ½ Ğ½Ğ°Ğ´ Ğ²ÑÑĞºĞ¾Ğ¹ Ğ²ĞµÑ‰ÑŒÑ Ğ¼Ğ¾Ñ‰ĞµĞ½" (10 Ñ€Ğ°Ğ·)</div>
                <div class="azkar-reference">ĞĞ±Ñƒ Ğ”Ğ°ÑƒĞ´ 5077</div>
            </div>
        </div>
        
        <div class="azkar-container" id="evening-azkar">
            <!-- Ğ’ĞµÑ‡ĞµÑ€Ğ½Ğ¸Ğµ Ğ°Ğ·ĞºĞ°Ñ€Ñ‹ -->
            <div class="azkar-item">
                <div class="azkar-text">Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„Ø§Ù Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒØŒ Ø±ÙØ¨ÙÙ‘ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙÙ‡Ù Ø§Ù„Ù„ÙÙ‘ÙŠÙ’Ù„ÙØ©Ù ÙˆÙØ®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØ§ØŒ ÙˆÙØ£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙÙ‡Ù Ø§Ù„Ù„ÙÙ‘ÙŠÙ’Ù„ÙØ©Ù ÙˆÙØ´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØ§ØŒ Ø±ÙØ¨ÙÙ‘ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’ÙƒÙØ³ÙÙ„Ù ÙˆÙØ³ÙÙˆØ¡Ù Ø§Ù„Ù’ÙƒÙØ¨ÙØ±ÙØŒ Ø±ÙØ¨ÙÙ‘ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù†ÙÙ‘Ø§Ø±Ù ÙˆÙØ¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ø±Ù</div>
                <div class="azkar-translation">"ĞœÑ‹ Ğ´Ğ¾Ğ¶Ğ¸Ğ»Ğ¸ Ğ´Ğ¾ Ğ²ĞµÑ‡ĞµÑ€Ğ°, Ğ¸ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ ĞĞ»Ğ»Ğ°Ñ…Ñƒ, Ğ¸ Ñ…Ğ²Ğ°Ğ»Ğ° ĞĞ»Ğ»Ğ°Ñ…Ñƒ. ĞĞµÑ‚ Ğ±Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ°, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¸ÑˆÑŒ ĞĞ»Ğ»Ğ°Ñ…Ğ°, Ñƒ ĞšĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ½ĞµÑ‚ ÑĞ¾Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸Ñ‰Ğ°. Ğ•Ğ¼Ñƒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ, Ğ¸ Ğ•Ğ¼Ñƒ Ñ…Ğ²Ğ°Ğ»Ğ°, Ğ¸ ĞĞ½ Ğ½Ğ°Ğ´ Ğ²ÑÑĞºĞ¾Ğ¹ Ğ²ĞµÑ‰ÑŒÑ Ğ¼Ğ¾Ñ‰ĞµĞ½. Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ, Ñ Ğ¿Ñ€Ğ¾ÑˆÑƒ Ñƒ Ğ¢ĞµĞ±Ñ Ğ±Ğ»Ğ°Ğ³Ğ° ÑÑ‚Ğ¾Ğ¹ Ğ½Ğ¾Ñ‡Ğ¸ Ğ¸ Ğ±Ğ»Ğ°Ğ³Ğ° Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½ĞµÑ‘, Ğ¸ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ³Ğ°Ñ Ğº Ğ¢ĞµĞ±Ğµ Ğ¾Ñ‚ Ğ·Ğ»Ğ° ÑÑ‚Ğ¾Ğ¹ Ğ½Ğ¾Ñ‡Ğ¸ Ğ¸ Ğ·Ğ»Ğ° Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½ĞµÑ‘. Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ, Ñ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ³Ğ°Ñ Ğº Ğ¢ĞµĞ±Ğµ Ğ¾Ñ‚ Ğ»ĞµĞ½Ğ¸ Ğ¸ Ğ´Ñ€ÑÑ…Ğ»Ğ¾ÑÑ‚Ğ¸ Ğ² ÑÑ‚Ğ°Ñ€Ğ¾ÑÑ‚Ğ¸. Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ, Ñ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ³Ğ°Ñ Ğº Ğ¢ĞµĞ±Ğµ Ğ¾Ñ‚ Ğ¼ÑƒÑ‡ĞµĞ½Ğ¸Ğ¹ Ğ² ĞĞ³Ğ½Ğµ Ğ¸ Ğ¼ÑƒÑ‡ĞµĞ½Ğ¸Ğ¹ Ğ² Ğ¼Ğ¾Ğ³Ğ¸Ğ»Ğµ".</div>
                <div class="azkar-reference">ĞœÑƒÑĞ»Ğ¸Ğ¼ 2723</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙØ­Ù’ÙŠÙØ§ØŒ ÙˆÙĞ±ÙÙƒÙ Ù†ÙÙ…ÙÙˆØªÙØŒ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù</div>
                <div class="azkar-translation">"Ğ ĞĞ»Ğ»Ğ°Ñ…, Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ Ğ¼Ñ‹ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ĞµĞ¼ Ğ²ĞµÑ‡ĞµÑ€, Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ĞµĞ¼ ÑƒÑ‚Ñ€Ğ¾, Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ Ğ¼Ñ‹ Ğ¶Ğ¸Ğ²Ñ‘Ğ¼ Ğ¸ Ñ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹ ÑƒĞ¼Ğ¸Ñ€Ğ°ĞµĞ¼, Ğ¸ Ğº Ğ¢ĞµĞ±Ğµ Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½Ğ¸Ğµ!"</div>
                <div class="azkar-reference">ĞÑ‚-Ğ¢Ğ¸Ñ€Ğ¼Ğ¸Ğ·Ğ¸ 3391</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù</div>
                <div class="azkar-translation">"ĞŸÑ€ĞµÑ‡Ğ¸ÑÑ‚ ĞĞ»Ğ»Ğ°Ñ…, Ğ¸ Ñ…Ğ²Ğ°Ğ»Ğ° Ğ•Ğ¼Ñƒ" (100 Ñ€Ğ°Ğ·)</div>
                <div class="azkar-reference">ĞœÑƒÑĞ»Ğ¸Ğ¼ 2691</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ø¢Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø³ÙÙˆÙ„Ù Ø¨ÙÙ…ÙØ§ Ø£ÙÙ†Ù’Ø²ÙÙ„Ù Ø¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ù…ÙÙ†Ù’ Ø±ÙØ¨ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†Ù Ûš ÙƒÙÙ„ÙŒÙ‘ Ø¢Ù…ÙÙ†Ù Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙÙ…ÙÙ„ÙØ§Ø¦ÙÙƒÙØªÙÙ‡Ù ÙˆÙÙƒÙØªÙØ¨ÙÙ‡Ù ÙˆÙØ±ÙØ³ÙÙ„ÙÙ‡Ù Ù„ÙØ§ Ù†ÙÙÙØ±ÙÙ‘Ù‚Ù Ø¨ÙÙŠÙ’Ù†Ù Ø£ÙØ­ÙØ¯Ù Ù…ÙÙ†Ù’ Ø±ÙØ³ÙÙ„ÙÙ‡Ù Ûš ÙˆÙÙ‚ÙØ§Ù„ÙÙˆØ§ Ø³ÙÙ…ÙØ¹Ù’Ù†ÙØ§ ÙˆÙØ£ÙØ·ÙØ¹Ù’Ù†ÙØ§ Û– ØºÙÙÙ’Ø±ÙØ§Ù†ÙÙƒÙ Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù’Ù…ÙØµÙÙŠØ±Ù</div>
                <div class="azkar-translation">"ĞŸĞ¾ÑĞ»Ğ°Ğ½Ğ½Ğ¸Ğº Ğ¸ Ğ²ĞµÑ€ÑƒÑÑ‰Ğ¸Ğµ ÑƒĞ²ĞµÑ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ Ğ² Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ½Ğ¸ÑĞ¿Ğ¾ÑĞ»Ğ°Ğ½Ğ¾ ĞµĞ¼Ñƒ Ğ¾Ñ‚ Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´Ğ°. Ğ’ÑĞµ Ğ¾Ğ½Ğ¸ ÑƒĞ²ĞµÑ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ Ğ² ĞĞ»Ğ»Ğ°Ñ…Ğ°, Ğ•Ğ³Ğ¾ Ğ°Ğ½Ğ³ĞµĞ»Ğ¾Ğ², Ğ•Ğ³Ğ¾ ĞŸĞ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¸ Ğ•Ğ³Ğ¾ Ğ¿Ğ¾ÑĞ»Ğ°Ğ½Ğ½Ğ¸ĞºĞ¾Ğ². ĞĞ½Ğ¸ Ğ³Ğ¾Ğ²Ğ¾Ñ€ÑÑ‚: "ĞœÑ‹ Ğ½Ğµ Ğ´ĞµĞ»Ğ°ĞµĞ¼ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ğ¹ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ•Ğ³Ğ¾ Ğ¿Ğ¾ÑĞ»Ğ°Ğ½Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸". ĞĞ½Ğ¸ Ğ³Ğ¾Ğ²Ğ¾Ñ€ÑÑ‚: "Ğ¡Ğ»ÑƒÑˆĞ°ĞµĞ¼ Ğ¸ Ğ¿Ğ¾Ğ²Ğ¸Ğ½ÑƒĞµĞ¼ÑÑ! Ğ¢Ğ²Ğ¾ĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ñ, Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ÑŒ Ğ½Ğ°Ñˆ, Ğ¸ Ğº Ğ¢ĞµĞ±Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ñ‚Ğ¸Ğµ"".</div>
                <div class="azkar-reference">ĞšĞ¾Ñ€Ğ°Ğ½ 2:285</div>
            </div>
        </div>
        
        <div class="azkar-container" id="after-prayer-azkar">
            <!-- ĞĞ·ĞºĞ°Ñ€Ñ‹ Ğ¿Ğ¾ÑĞ»Ğµ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° -->
            <div class="azkar-item">
                <div class="azkar-text">Ø£ÙØ³Ù’ØªÙØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù (3 Ù…Ø±Ø§Øª) Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø£ÙÙ†Ù’ØªÙ Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù ÙˆÙÙ…ÙÙ†Ù’ÙƒÙ Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù ØªÙØ¨ÙØ§Ø±ÙÙƒÙ’ØªÙ ÙŠÙØ§ Ø°ÙØ§ Ø§Ù„Ù’Ø¬ÙÙ„ÙØ§Ù„Ù ÙˆÙØ§Ù„Ù’Ø¥ÙÙƒÙ’Ø±ÙØ§Ù…Ù</div>
                <div class="azkar-translation">"Ğ¯ Ğ¿Ñ€Ğ¾ÑˆÑƒ Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ñ Ñƒ ĞĞ»Ğ»Ğ°Ñ…Ğ°" (3 Ñ€Ğ°Ğ·Ğ°). "Ğ ĞĞ»Ğ»Ğ°Ñ…, Ğ¢Ñ‹ - ĞœĞ¸Ñ€, Ğ¸ Ğ¾Ñ‚ Ğ¢ĞµĞ±Ñ - Ğ¼Ğ¸Ñ€. Ğ‘Ğ»Ğ°Ğ³Ğ¾ÑĞ»Ğ¾Ğ²ĞµĞ½ Ğ¢Ñ‹, Ğ¾ ĞĞ±Ğ»Ğ°Ğ´Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ Ğ¸ Ğ¿Ğ¾Ñ‡ĞµÑ‚Ğ°!"</div>
                <div class="azkar-reference">ĞœÑƒÑĞ»Ğ¸Ğ¼ 591</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯ÙØŒ ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒØŒ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ù„ÙØ§ Ù…ÙØ§Ù†ÙØ¹Ù Ù„ÙÙ…ÙØ§ Ø£ÙØ¹Ù’Ø·ÙÙŠÙ’ØªÙØŒ ÙˆÙÙ„ÙØ§ Ù…ÙØ¹Ù’Ø·ÙÙŠÙ Ù„ÙÙ…ÙØ§ Ù…ÙÙ†ÙØ¹Ù’ØªÙØŒ ÙˆÙÙ„ÙØ§ ÙŠÙÙ†Ù’ÙÙØ¹Ù Ø°ÙØ§ Ø§Ù„Ù’Ø¬ÙØ¯ÙÙ‘ Ù…ÙÙ†Ù’ÙƒÙ Ø§Ù„Ù’Ø¬ÙØ¯ÙÙ‘</div>
                <div class="azkar-translation">"ĞĞµÑ‚ Ğ±Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ°, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¸ÑˆÑŒ ĞĞ»Ğ»Ğ°Ñ…Ğ°, Ñƒ ĞšĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ½ĞµÑ‚ ÑĞ¾Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸Ñ‰Ğ°. Ğ•Ğ¼Ñƒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ, Ğ¸ Ğ•Ğ¼Ñƒ Ñ…Ğ²Ğ°Ğ»Ğ°, Ğ¸ ĞĞ½ Ğ½Ğ°Ğ´ Ğ²ÑÑĞºĞ¾Ğ¹ Ğ²ĞµÑ‰ÑŒÑ Ğ¼Ğ¾Ñ‰ĞµĞ½. Ğ ĞĞ»Ğ»Ğ°Ñ…, Ğ½Ğ¸ĞºÑ‚Ğ¾ Ğ½Ğµ Ğ»Ğ¸ÑˆĞ¸Ñ‚ Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¢Ñ‹ Ğ´Ğ°Ñ€Ğ¾Ğ²Ğ°Ğ», Ğ¸ Ğ½Ğ¸ĞºÑ‚Ğ¾ Ğ½Ğµ Ğ´Ğ°Ñ€ÑƒĞµÑ‚ Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡ĞµĞ³Ğ¾ Ğ¢Ñ‹ Ğ»Ğ¸ÑˆĞ¸Ğ», Ğ¸ Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ½ĞµÑĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ñ‹ Ğ±Ğ¾Ğ³Ğ°Ñ‚ÑÑ‚Ğ²Ğ¾ Ğ¾Ğ±Ğ»Ğ°Ğ´Ğ°Ñ‚ĞµĞ»Ñ Ğ±Ğ¾Ğ³Ğ°Ñ‚ÑÑ‚Ğ²Ğ° Ğ¿Ñ€ĞµĞ´ Ğ¢Ğ¾Ğ±Ğ¾Ğ¹".</div>
                <div class="azkar-reference">ĞĞ»ÑŒ-Ğ‘ÑƒÑ…Ğ°Ñ€Ğ¸ 844</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù (33 Ù…Ø±Ø©) ØŒ Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù (33 Ù…Ø±Ø©) ØŒ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù (33 Ù…Ø±Ø©)</div>
                <div class="azkar-translation">"ĞŸÑ€ĞµÑ‡Ğ¸ÑÑ‚ ĞĞ»Ğ»Ğ°Ñ…" (33 Ñ€Ğ°Ğ·Ğ°), "Ğ¥Ğ²Ğ°Ğ»Ğ° ĞĞ»Ğ»Ğ°Ñ…Ñƒ" (33 Ñ€Ğ°Ğ·Ğ°), "ĞĞ»Ğ»Ğ°Ñ… Ğ²ĞµĞ»Ğ¸Ğº" (33 Ñ€Ğ°Ğ·Ğ°)</div>
                <div class="azkar-reference">ĞœÑƒÑĞ»Ğ¸Ğ¼ 597</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯ÙØŒ ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ</div>
                <div class="azkar-translation">"ĞĞµÑ‚ Ğ±Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ°, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¸ÑˆÑŒ ĞĞ»Ğ»Ğ°Ñ…Ğ°, Ñƒ ĞšĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ½ĞµÑ‚ ÑĞ¾Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸Ñ‰Ğ°. Ğ•Ğ¼Ñƒ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ Ğ²Ğ»Ğ°ÑÑ‚ÑŒ, Ğ¸ Ğ•Ğ¼Ñƒ Ñ…Ğ²Ğ°Ğ»Ğ°, Ğ¸ ĞĞ½ Ğ½Ğ°Ğ´ Ğ²ÑÑĞºĞ¾Ğ¹ Ğ²ĞµÑ‰ÑŒÑ Ğ¼Ğ¾Ñ‰ĞµĞ½" (10 Ñ€Ğ°Ğ· Ğ¿Ğ¾ÑĞ»Ğµ ÑƒÑ‚Ñ€ĞµĞ½Ğ½ĞµĞ³Ğ¾ Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ¿Ğ¾Ğ»ÑƒĞ´ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°)</div>
                <div class="azkar-reference">ĞÑ…Ğ¼Ğ°Ğ´ 4/227</div>
            </div>
        </div>
        
        <div class="ayah-container">
            <div class="ayah">Ø¥ÙÙ†ÙÙ‘ Ù±Ù„ØµÙÙ‘Ù„ÙÙˆÙ°Ø©Ù ÙƒÙØ§Ù†ÙØªÙ’ Ø¹ÙÙ„ÙÙ‰ Ù±Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù ÙƒÙØªÙÙ€Ù°Ø¨Ù‹Û­Ø§ Ù…ÙÙ‘ÙˆÙ’Ù‚ÙÙˆØªÙ‹Û­Ø§</div>
            <div class="ayah-translation">"Ğ’Ğ¾Ğ¸ÑÑ‚Ğ¸Ğ½Ñƒ, Ğ½Ğ°Ğ¼Ğ°Ğ· Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¸ÑĞ°Ğ½ Ğ²ĞµÑ€ÑƒÑÑ‰Ğ¸Ğ¼ Ğ² Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ" (4:103)</div>
        </div>

        <button class="notify-btn" id="notify-btn">Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑÑ‚ÑŒ Ğ¾ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğµ</button>
        
        <button class="install-btn" id="install-btn">Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ</button>
    </div>

    <!-- ĞÑƒĞ´Ğ¸Ğ¾ Ğ´Ğ»Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ (ÑĞºÑ€Ñ‹Ñ‚Ğ¾) -->
    <audio id="fajr-adhan" preload="auto">
        <source src="https://www.islamcan.com/audio/adhan/fajr.mp3" type="audio/mpeg">
    </audio>
    <audio id="adhan" preload="auto">
        <source src="https://www.islamcan.com/audio/adhan/standard.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ¶Ğ¸Ğ´ĞºĞ¸Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ„Ğ¾Ğ½Ğ°
        const liquidBg = document.getElementById('liquid-bg');
        for (let i = 0; i < 5; i++) {
            const element = document.createElement('div');
            element.className = 'liquid-element';
            element.style.width = `${Math.random() * 300 + 100}px`;
            element.style.height = element.style.width;
            element.style.left = `${Math.random() * 100}%`;
            element.style.top = `${Math.random() * 100}%`;
            element.style.animationDelay = `${Math.random() * 10}s`;
            liquidBg.appendChild(element);
        }

        // API Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ²Ñ€ĞµĞ¼ĞµĞ½ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°
        async function getPrayerTimes(city) {
            const date = new Date();
            const day = date.getDate();
            const month = date.getMonth() + 1;
            const year = date.getFullYear();
            
            // ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ² (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¥Ğ°ÑĞ°Ğ²ÑÑ€Ñ‚, Ğ‘ĞµĞ»Ğ¸Ğ´Ğ¶Ğ¸, ĞÑ…Ñ‚Ñ‹ Ğ¸ ĞšĞ°Ğ±Ğ¸Ñ€)
            const cities = {
                'moscow': { lat: 55.7558, lng: 37.6176, method: 3 },
                'saint-petersburg': { lat: 59.9343, lng: 30.3351, method: 3 },
                'kazan': { lat: 55.7961, lng: 49.1064, method: 3 },
                'ufa': { lat: 54.7351, lng: 55.9587, method: 3 },
                'makhachkala': { lat: 42.9831, lng: 47.5047, method: 1 },
                'grozny': { lat: 43.3180, lng: 45.6982, method: 1 },
                'novosibirsk': { lat: 55.0084, lng: 82.9357, method: 3 },
                'krasnoyarsk': { lat: 56.0153, lng: 92.8932, method: 3 },
                'khasavyurt': { lat: 43.2509, lng: 46.5877, method: 1 },
                'belidzhi': { lat: 42.1333, lng: 48.0667, method: 1 },
                'ahty': { lat: 41.4647, lng: 47.7408, method: 1 },
                'kabir': { lat: 41.5667, lng: 47.8333, method: 1 }
            };
            
            const { lat, lng, method } = cities[city];
            
            try {
                // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¼ĞµÑ‚Ğ¾Ğ´ 1 (MWL) Ğ´Ğ»Ñ Ğ”Ğ°Ğ³ĞµÑÑ‚Ğ°Ğ½Ğ° Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´ 3 (Russia) Ğ´Ğ»Ñ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ñ…
                const response = await fetch(`https://api.aladhan.com/v1/timings/${day}-${month}-${year}?latitude=${lat}&longitude=${lng}&method=${method}&tune=0,0,0,0,0,0,0,0,0`);
                const data = await response.json();
                
                if (data.code === 200 && data.data) {
                    return {
                        fajr: formatTime(data.data.timings.Fajr),
                        sunrise: formatTime(data.data.timings.Sunrise),
                        dhuhr: formatTime(data.data.timings.Dhuhr),
                        asr: formatTime(data.data.timings.Asr),
                        maghrib: formatTime(data.data.timings.Maghrib),
                        isha: formatTime(data.data.timings.Isha)
                    };
                }
            } catch (e) {
                console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ²Ñ€ĞµĞ¼ĞµĞ½ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°:', e);
                return getFallbackTimes(city);
            }
            
            return getFallbackTimes(city);
        }

        // Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
        function formatTime(timeStr) {
            return timeStr.split(' ')[0];
        }

        // Ğ ĞµĞ·ĞµÑ€Ğ²Ğ½Ñ‹Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ° Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¥Ğ°ÑĞ°Ğ²ÑÑ€Ñ‚, Ğ‘ĞµĞ»Ğ¸Ğ´Ğ¶Ğ¸, ĞÑ…Ñ‚Ñ‹ Ğ¸ ĞšĞ°Ğ±Ğ¸Ñ€)
        function getFallbackTimes(city) {
            const times = {
                'moscow': {
                    fajr: '03:15',
                    sunrise: '05:30',
                    dhuhr: '12:30',
                    asr: '16:15',
                    maghrib: '20:15',
                    isha: '22:30'
                },
                'saint-petersburg': {
                    fajr: '03:45',
                    sunrise: '06:00',
                    dhuhr: '13:00',
                    asr: '16:45',
                    maghrib: '21:00',
                    isha: '23:15'
                },
                'kazan': {
                    fajr: '03:30',
                    sunrise: '05:45',
                    dhuhr: '12:45',
                    asr: '16:30',
                    maghrib: '20:30',
                    isha: '22:45'
                },
                'ufa': {
                    fajr: '04:00',
                    sunrise: '06:15',
                    dhuhr: '13:15',
                    asr: '17:00',
                    maghrib: '20:45',
                    isha: '23:00'
                },
                'makhachkala': {
                    fajr: '03:45',
                    sunrise: '05:30',
                    dhuhr: '12:15',
                    asr: '15:45',
                    maghrib: '19:30',
                    isha: '21:15'
                },
                'grozny': {
                    fajr: '03:30',
                    sunrise: '05:15',
                    dhuhr: '12:00',
                    asr: '15:30',
                    maghrib: '19:15',
                    isha: '21:00'
                },
                'novosibirsk': {
                    fajr: '04:30',
                    sunrise: '06:45',
                    dhuhr: '13:45',
                    asr: '17:30',
                    maghrib: '21:15',
                    isha: '23:30'
                },
                'krasnoyarsk': {
                    fajr: '04:15',
                    sunrise: '06:30',
                    dhuhr: '13:30',
                    asr: '17:15',
                    maghrib: '21:00',
                    isha: '23:15'
                },
                'khasavyurt': {
                    fajr: '03:20',
                    sunrise: '05:15',
                    dhuhr: '12:10',
                    asr: '15:40',
                    maghrib: '19:05',
                    isha: '20:50'
                },
                'belidzhi': {
                    fajr: '03:15',
                    sunrise: '05:10',
                    dhuhr: '12:05',
                    asr: '15:35',
                    maghrib: '19:00',
                    isha: '20:45'
                },
                'ahty': {
                    fajr: '03:10',
                    sunrise: '05:05',
                    dhuhr: '12:00',
                    asr: '15:30',
                    maghrib: '18:55',
                    isha: '20:40'
                },
                'kabir': {
                    fajr: '03:05',
                    sunrise: '05:00',
                    dhuhr: '12:00',
                    asr: '15:30',
                    maghrib: '18:55',
                    isha: '20:40'
                }
            };
            return times[city] || times['moscow'];
        }

        // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°
        async function updatePrayerTimes(city) {
            // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´ Ğ² localStorage
            localStorage.setItem('selectedCity', city);
            
            const times = await getPrayerTimes(city);
            
            document.getElementById('fajr-time').textContent = times.fajr;
            document.getElementById('sunrise-time').textContent = times.sunrise;
            document.getElementById('dhuhr-time').textContent = times.dhuhr;
            document.getElementById('asr-time').textContent = times.asr;
            document.getElementById('maghrib-time').textContent = times.maghrib;
            document.getElementById('isha-time').textContent = times.isha;

            updateCurrentPrayer();
            if (Notification.permission === 'granted') {
                setupPrayerNotifications(city);
            }
            
            // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞšĞ°Ğ°Ğ±Ñ‹, ĞµÑĞ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ³Ğ¾Ñ€Ğ¾Ğ´
            if (!window.usingGPS) {
                updateQiblaDirection(city);
            }
        }

        // ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°
        function updateCurrentPrayer() {
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            let nextPrayer = null;
            let minDiff = Infinity;

            // Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑĞ½Ğ¸Ğ¼Ğ°ĞµĞ¼ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ Ğ²ÑĞµÑ… ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº
            document.querySelectorAll('.prayer-card').forEach(card => {
                card.classList.remove('current');
            });

            // Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ğ¼ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ½Ğ°Ğ¼Ğ°Ğ· Ğ¸ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹
            document.querySelectorAll('.prayer-card').forEach(card => {
                const timeStr = card.querySelector('.prayer-time').textContent;
                const [hours, minutes] = timeStr.split(':').map(Number);
                let prayerTime = hours * 60 + minutes;
                let diff = prayerTime - currentTime;

                // Ğ•ÑĞ»Ğ¸ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ, Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ Ğ²Ñ€ĞµĞ¼Ñ ÑƒĞ¶Ğµ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ
                if (diff < 0) diff += 1440; // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ 24 Ñ‡Ğ°ÑĞ° Ğ² Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğ°Ñ…
                
                // ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ğ¼ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ½Ğ°Ğ¼Ğ°Ğ· (Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†ĞµĞ¹)
                if (diff < minDiff) {
                    minDiff = diff;
                    nextPrayer = card;
                }

                // Ğ•ÑĞ»Ğ¸ Ñ‚ĞµĞºÑƒÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ Ğ² Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ… 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ¾Ñ‚ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° - Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‡Ğ¸Ğ²Ğ°ĞµĞ¼
                if (Math.abs(prayerTime - currentTime) <= 5 || Math.abs(prayerTime + 1440 - currentTime) <= 5) {
                    card.classList.add('current');
                }
            });

            // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğµ
            if (nextPrayer) {
                const name = nextPrayer.querySelector('.prayer-name').textContent;
                document.getElementById('next-prayer-name').textContent = name;
                
                const hours = Math.floor(minDiff / 60);
                const minutes = minDiff % 60;
                const seconds = 59 - now.getSeconds();
                
                document.getElementById('next-prayer-time').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
        }

        // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¶Ğ´ÑƒÑ ÑĞµĞºÑƒĞ½Ğ´Ñƒ
        function startPrayerTimeUpdates() {
            updateCurrentPrayer();
            setInterval(updateCurrentPrayer, 1000);
        }

        // Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€Ğ° Ğ°Ğ·ĞºĞ°Ñ€Ğ¾Ğ²
        const azkarSwitcher = document.getElementById('azkar-switcher');
        const azkarOptions = document.querySelectorAll('.azkar-option');
        const azkarSlider = document.getElementById('azkar-slider');
        const azkarContainers = document.querySelectorAll('.azkar-container');
        
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let currentIndex = 0;
        let sliderWidth = azkarSwitcher.offsetWidth / 3;

        function initSlider() {
            sliderWidth = azkarSwitcher.offsetWidth / 3;
            azkarSlider.style.width = `${sliderWidth}px`;
            currentTranslate = currentIndex * sliderWidth;
            prevTranslate = currentTranslate;
            azkarSlider.style.transform = `translateX(${currentTranslate}px)`;
            
            // Ğ£Ğ»ÑƒÑ‡ÑˆĞ°ĞµĞ¼ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€Ğ°
            azkarSlider.style.boxShadow = '0 4px 15px rgba(var(--gold-rgb), 0.3)';
            azkarSlider.style.border = '1px solid rgba(var(--gold-rgb), 0.5)';
        }

        azkarSwitcher.addEventListener('mousedown', dragStart);
        azkarSwitcher.addEventListener('mousemove', drag);
        azkarSwitcher.addEventListener('mouseup', dragEnd);
        azkarSwitcher.addEventListener('mouseleave', dragEnd);

        azkarSwitcher.addEventListener('touchstart', touchStart);
        azkarSwitcher.addEventListener('touchmove', touchDrag);
        azkarSwitcher.addEventListener('touchend', dragEnd);

        azkarOptions.forEach((option, index) => {
            option.addEventListener('click', () => {
                if (!isDragging) {
                    currentIndex = index;
                    setPositionByIndex();
                }
            });
        });

        function getPositionX(event) {
            return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
        }

        function dragStart(event) {
            startPos = getPositionX(event);
            isDragging = true;
            azkarSwitcher.classList.add('dragging');
            requestAnimationFrame(animation);
        }

        function touchStart(event) {
            startPos = event.touches[0].clientX;
            dragStart(event);
        }

        function drag(event) {
            if (isDragging) {
                const currentPosition = getPositionX(event);
                currentTranslate = prevTranslate + currentPosition - startPos;
            }
        }

        function touchDrag(event) {
            const currentPosition = event.touches[0].clientX;
            currentTranslate = prevTranslate + currentPosition - startPos;
            drag(event);
        }

        function dragEnd() {
            isDragging = false;
            azkarSwitcher.classList.remove('dragging');
            
            const movedBy = currentTranslate - prevTranslate;
            if (movedBy > sliderWidth/3 && currentIndex > 0) {
                currentIndex -= 1;
            } else if (movedBy < -sliderWidth/3 && currentIndex < 2) {
                currentIndex += 1;
            }
            
            setPositionByIndex();
        }

        function animation() {
            if (isDragging) {
                setSliderPosition();
                requestAnimationFrame(animation);
            }
        }

        function setSliderPosition() {
            if (currentTranslate < 0) currentTranslate = 0;
            if (currentTranslate > sliderWidth * 2) currentTranslate = sliderWidth * 2;
            azkarSlider.style.transform = `translateX(${currentTranslate}px)`;
        }

        function setPositionByIndex() {
            currentTranslate = currentIndex * sliderWidth;
            prevTranslate = currentTranslate;
            azkarSlider.style.transition = 'transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1)';
            azkarSlider.style.transform = `translateX(${currentTranslate}px)`;
            updateActiveTab();
        }

        function updateActiveTab() {
            azkarOptions.forEach((option, index) => {
                option.classList.toggle('active', index === currentIndex);
            });
            
            const target = azkarOptions[currentIndex].getAttribute('data-target');
            azkarContainers.forEach(container => {
                container.classList.remove('active');
                if (container.id === `${target}-azkar`) {
                    container.classList.add('active');
                }
            });
        }

        // ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼
        const themeButtons = document.querySelectorAll('.theme-btn');
        
        themeButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ Ğ²ÑĞµ ĞºĞ»Ğ°ÑÑÑ‹ Ñ‚ĞµĞ¼
                document.body.classList.remove('theme-sapphire', 'theme-burgundy', 'theme-amber');
                
                // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½ÑƒÑ Ñ‚ĞµĞ¼Ñƒ
                const themeClass = this.getAttribute('data-theme-class');
                if (themeClass) {
                    document.body.classList.add(themeClass);
                }
                
                // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½ÑƒÑ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ
                themeButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ñ‚ĞµĞ¼Ñƒ Ğ² localStorage
                localStorage.setItem('selectedTheme', themeClass);
                
                // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ñ‚ĞµĞ¼Ñƒ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ°
                updateCompassTheme(themeClass);
            });
        });
        
        // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ñ‹ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ°
        function updateCompassTheme(themeClass) {
            const compass = document.querySelector('.qibla-compass');
            
            // Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ Ğ²ÑĞµ ĞºĞ»Ğ°ÑÑÑ‹ Ñ‚ĞµĞ¼ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ°
            compass.classList.remove(
                'compass-theme-emerald',
                'compass-theme-sapphire',
                'compass-theme-burgundy',
                'compass-theme-amber'
            );
            
            // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ ĞºĞ»Ğ°ÑÑ Ñ‚ĞµĞ¼Ñ‹ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ°
            switch(themeClass) {
                case 'theme-sapphire':
                    compass.classList.add('compass-theme-sapphire');
                    break;
                case 'theme-burgundy':
                    compass.classList.add('compass-theme-burgundy');
                    break;
                case 'theme-amber':
                    compass.classList.add('compass-theme-amber');
                    break;
                default:
                    compass.classList.add('compass-theme-emerald');
            }
        }

        // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°
        function checkBrowserCapabilities() {
            if (!('serviceWorker' in navigator)) {
                console.warn('Service Worker Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ');
                return false;
            }
            
            if (!('Notification' in window)) {
                console.warn('Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ');
                return false;
            }
            
            if (!('periodicSync' in navigator.serviceWorker)) {
                console.warn('Ğ¤Ğ¾Ğ½Ğ¾Ğ²Ğ°Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ');
            }
            
            return true;
        }

        // PWA Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»
        let deferredPrompt;
        const installBtn = document.getElementById('install-btn');

        function checkPWAInstallable() {
            // Ğ”Ğ»Ñ Android Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ñ… PWA Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installBtn.style.display = 'block';
                
                // Ğ”Ğ»Ñ Chrome Ğ½Ğ° Android Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ²ÑĞµĞ³Ğ´Ğ°
                if (isAndroid()) {
                    installBtn.style.display = 'block';
                }
            });
            
            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ»Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ Android
            if (isAndroid() && !window.matchMedia('(display-mode: standalone)').matches) {
                installBtn.style.display = 'block';
            }
        }

        function isAndroid() {
            return /android/i.test(navigator.userAgent);
        }

        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    installBtn.style.display = 'none';
                }
                deferredPrompt = null;
            } else if (isAndroid()) {
                // Ğ”Ğ»Ñ Android Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ
                alert('Ğ”Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ:\n1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° (Ñ‚Ñ€Ğ¸ Ñ‚Ğ¾Ñ‡ĞºĞ¸)\n2. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ "Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½"\n3. ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ');
            }
        });

        window.addEventListener('appinstalled', () => {
            installBtn.style.display = 'none';
        });

        // Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ñ Ğ°Ğ·Ğ°Ğ½Ğ¾Ğ¼
        const notifyBtn = document.getElementById('notify-btn');
        const fajrAdhan = document.getElementById('fajr-adhan');
        const standardAdhan = document.getElementById('adhan');
        
        function isIOS() {
            return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                  (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
        }
        
        function showIOSNotificationAlert() {
            alert('Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ° iOS:\n1. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½\n2. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ ĞµĞ³Ğ¾ ĞºĞ°Ğº standalone-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ\n3. Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… Safari\n4. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑÑ‚ÑŒ Ğ¾ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğµ" ÑĞ½Ğ¾Ğ²Ğ°');
        }
        
        async function setupPrayerNotifications(city) {
            if (!checkBrowserCapabilities()) return;
            
            if (Notification.permission === 'granted') {
                await schedulePrayerNotifications(city);
                
                // Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµĞ¼ Ñ„Ğ¾Ğ½Ğ¾Ğ²ÑƒÑ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
                if ('serviceWorker' in navigator && 'periodicSync' in navigator.serviceWorker) {
                    try {
                        const reg = await navigator.serviceWorker.ready;
                        await reg.periodicSync.register('prayer-times', {
                            minInterval: 12 * 60 * 60 * 1000 // 12 Ñ‡Ğ°ÑĞ¾Ğ²
                        });
                        console.log('Ğ¤Ğ¾Ğ½Ğ¾Ğ²Ğ°Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°');
                    } catch (e) {
                        console.log('ĞÑˆĞ¸Ğ±ĞºĞ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ¾Ğ¹ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:', e);
                    }
                }
            }
        }
        
        async function schedulePrayerNotifications(city) {
            // ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ Ğ²ÑĞµ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
            if ('serviceWorker' in navigator) {
                const registration = await navigator.serviceWorker.getRegistration();
                if (registration) {
                    registration.getNotifications().then(notifications => {
                        notifications.forEach(notification => notification.close());
                    });
                }
            }
            
            const times = await getPrayerTimes(city);
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            
            // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ° Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² service worker
            if ('serviceWorker' in navigator) {
                const registration = await navigator.serviceWorker.ready;
                registration.active.postMessage({
                    type: 'SET_PRAYER_TIMES',
                    times: times,
                    city: city
                });
            }
            
            for (const [prayer, time] of Object.entries(times)) {
                if (prayer === 'sunrise') continue; // ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ²Ğ¾ÑÑ…Ğ¾Ğ´
                
                const [hours, minutes] = time.split(':').map(Number);
                const prayerTime = hours * 60 + minutes;
                let diff = prayerTime - currentTime;
                
                // Ğ•ÑĞ»Ğ¸ Ğ²Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° ÑƒĞ¶Ğµ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ, Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµĞ¼ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°
                if (diff < 0) diff += 1440;
                
                // ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµĞ¼ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ° 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ´Ğ¾ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°
                const notificationTime = diff - 5;
                if (notificationTime > 0) {
                    setTimeout(() => {
                        showPrayerNotification(prayer);
                    }, notificationTime * 60000);
                }
            }
        }
        
        function showPrayerNotification(prayer) {
            // Ğ’Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ğ¼ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ Ğ°Ğ·Ğ°Ğ½
            if (prayer === 'fajr') {
                fajrAdhan.play().catch(e => console.log('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ¸ Ğ°Ğ·Ğ°Ğ½ Ñ„Ğ°Ğ´Ğ¶Ñ€:', e));
            } else {
                standardAdhan.play().catch(e => console.log('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ¸ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ°Ğ·Ğ°Ğ½:', e));
            }
            
            // ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· service worker
            if ('serviceWorker' in navigator && Notification.permission === 'granted') {
                navigator.serviceWorker.ready.then(reg => {
                    reg.showNotification('Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°', {
                        body: `Ğ¡ĞºĞ¾Ñ€Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° ${getPrayerName(prayer)}`,
                        icon: 'https://img.icons8.com/ios/512/islamic/prayer.png',
                        vibrate: [200, 100, 200, 100, 200],
                        tag: `prayer-${prayer}`,
                        data: {
                            prayer: prayer
                        }
                    });
                });
            }
        }
        
        function getPrayerName(prayer) {
            const names = {
                'fajr': 'Ğ¤Ğ°Ğ´Ğ¶Ñ€',
                'dhuhr': 'Ğ—ÑƒÑ…Ñ€',
                'asr': 'ĞÑÑ€',
                'maghrib': 'ĞœĞ°Ğ³Ñ€Ğ¸Ğ±',
                'isha': 'Ğ˜ÑˆĞ°'
            };
            return names[prayer] || prayer;
        }
        
        async function handleNotificationPermission() {
            let permission = Notification.permission;
            
            if (permission === 'default') {
                permission = await Notification.requestPermission();
            }
            
            if (permission === 'granted') {
                const city = document.getElementById('city-select').value;
                if (city) {
                    await setupPrayerNotifications(city);
                    notifyBtn.textContent = 'Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹';
                    notifyBtn.classList.add('active');
                } else {
                    alert('ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´');
                }
            } else {
                alert('Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞ¸Ñ‚Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°.');
            }
        }

        notifyBtn.addEventListener('click', async () => {
            if (isIOS()) {
                if (window.navigator.standalone) {
                    await handleNotificationPermission();
                } else {
                    showIOSNotificationAlert();
                }
                return;
            }
            
            await handleNotificationPermission();
        });

        // ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° ĞšĞ°Ğ°Ğ±Ñƒ
        let currentQiblaAngle = 0;
        let usingGPS = false;
        let watchId = null;
        let compassPermissionGranted = false;
        let lastHeading = 0;
        let lastAccuracy = 0;

        // ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ ĞšĞ°Ğ°Ğ±Ñ‹
        const kaabaLat = 21.4225;
        const kaabaLng = 39.8262;

        // ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ²
        const cities = {
            'moscow': { lat: 55.7558, lng: 37.6176 },
            'saint-petersburg': { lat: 59.9343, lng: 30.3351 },
            'kazan': { lat: 55.7961, lng: 49.1064 },
            'ufa': { lat: 54.7351, lng: 55.9587 },
            'makhachkala': { lat: 42.9831, lng: 47.5047 },
            'grozny': { lat: 43.3180, lng: 45.6982 },
            'novosibirsk': { lat: 55.0084, lng: 82.9357 },
            'krasnoyarsk': { lat: 56.0153, lng: 92.8932 },
            'khasavyurt': { lat: 43.2509, lng: 46.5877 },
            'belidzhi': { lat: 42.1333, lng: 48.0667 },
            'ahty': { lat: 41.4647, lng: 47.7408 },
            'kabir': { lat: 41.5667, lng: 47.8333 }
        };

        function calculateQiblaDirection(lat, lng) {
            // Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ ÑƒĞ³Ğ¾Ğ» Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ½Ğ° ĞšĞ°Ğ°Ğ±Ñƒ
            const phiK = kaabaLat * Math.PI / 180.0;
            const lambdaK = kaabaLng * Math.PI / 180.0;
            const phi = lat * Math.PI / 180.0;
            const lambda = lng * Math.PI / 180.0;
            
            const psi = 180.0 / Math.PI * Math.atan2(
                Math.sin(lambdaK - lambda),
                Math.cos(phi) * Math.tan(phiK) - Math.sin(phi) * Math.cos(lambdaK - lambda)
            );
            
            return (psi + 360.0) % 360.0;
        }

        function updateQiblaDirection(city) {
            const { lat, lng } = cities[city] || cities['moscow'];
            currentQiblaAngle = calculateQiblaDirection(lat, lng);
            updateCompassDisplay();
            document.getElementById('location-status').textContent = 'Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´';
        }

        function updateCompassDisplay() {
            document.getElementById('qibla-arrow').style.transform = `translate(-50%, -50%) rotate(${currentQiblaAngle}deg)`;
            document.getElementById('qibla-degree').textContent = `${Math.round(currentQiblaAngle)}Â°`;
            
            // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ ÑƒĞ³Ğ¾Ğ» Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² service worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.ready.then(reg => {
                    reg.active.postMessage({
                        type: 'SET_QIBLA_ANGLE',
                        angle: currentQiblaAngle
                    });
                });
            }
        }

        function handleOrientation(event) {
            if (!compassPermissionGranted) return;
            
            // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ° (Ğ² Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ°Ñ… Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑĞµĞ²ĞµÑ€Ğ°)
            let compassHeading = event.alpha; // 0-360 Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ²
            
            // Ğ”Ğ»Ñ iOS - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ absolute orientation
            if (event.webkitCompassHeading !== undefined) {
                compassHeading = event.webkitCompassHeading;
            }
            
            if (compassHeading !== null) {
                // Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµĞ¼ ÑˆÑƒĞ¼ Ğ¸ Ñ€ĞµĞ·ĞºĞ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
                const alpha = 0.15; // ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ (0-1)
                const filteredHeading = lastHeading * (1 - alpha) + compassHeading * alpha;
                
                // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ñ‚ĞµĞºÑƒÑ‰ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ³Ğ¾ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ°
                lastHeading = filteredHeading;
                
                // ĞŸĞ¾Ğ²Ğ¾Ñ€Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµĞ¼ Ñ†Ğ¸Ñ„ĞµÑ€Ğ±Ğ»Ğ°Ñ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ° Ğ² Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ½Ğ¾Ğ¼ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸
                document.getElementById('compass-face').style.transform = `rotate(${-filteredHeading}deg)`;
                
                // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ÑÑ‚Ñ€ĞµĞ»ĞºÑƒ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ½Ğ° ĞšĞ°Ğ°Ğ±Ñƒ Ñ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
                const qiblaArrow = document.getElementById('qibla-arrow');
                qiblaArrow.style.transform = `translate(-50%, -50%) rotate(${currentQiblaAngle}deg)`;
                
                // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ÑÑ‚Ñ€ĞµĞ»ĞºÑƒ ÑĞµĞ²ĞµÑ€Ğ°
                const compassNeedle = document.getElementById('compass-needle');
                compassNeedle.style.transform = `translate(-50%, -50%) rotate(${0}deg)`;
            }
        }

        async function startCompass() {
            try {
                // Ğ—Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµĞ¼ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ°Ğ¼ (Ğ´Ğ»Ñ iOS 13+)
                if (typeof DeviceOrientationEvent !== 'undefined' && 
                    typeof DeviceOrientationEvent.requestPermission === 'function') {
                    const permission = await DeviceOrientationEvent.requestPermission();
                    if (permission !== 'granted') {
                        alert('Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ° Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ°Ğ¼ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°.');
                        return false;
                    }
                }
                
                compassPermissionGranted = true;
                
                // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸
                if (window.DeviceOrientationEvent) {
                    if ('ondeviceorientationabsolute' in window) {
                        window.addEventListener('deviceorientationabsolute', handleOrientation, true);
                    } else if ('ondeviceorientation' in window) {
                        window.addEventListener('deviceorientation', handleOrientation, true);
                    }
                }
                
                return true;
            } catch (error) {
                console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞ°:', error);
                return false;
            }
        }

        function stopCompass() {
            window.removeEventListener('deviceorientation', handleOrientation, true);
            window.removeEventListener('deviceorientationabsolute', handleOrientation, true);
            document.getElementById('compass-face').style.transform = 'rotate(0deg)';
            compassPermissionGranted = false;
        }

        function startGPS() {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
            }
            
            watchId = navigator.geolocation.watchPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    const accuracy = position.coords.accuracy;
                    
                    // Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµĞ¼ Ğ½ĞµÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
                    if (accuracy > 100) {
                        document.getElementById('location-status').textContent = 
                            `ĞĞ¸Ğ·ĞºĞ°Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ GPS (${accuracy.toFixed(0)}Ğ¼). Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ Ñ€Ğ¾Ğ²Ğ½Ğ¾.`;
                        return;
                    }
                    
                    currentQiblaAngle = calculateQiblaDirection(lat, lng);
                    updateCompassDisplay();
                    document.getElementById('location-status').textContent = 
                        `Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ GPS (Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ: ${accuracy.toFixed(0)}Ğ¼)`;
                },
                (error) => {
                    console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ³ĞµĞ¾Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸:', error);
                    document.getElementById('location-status').textContent = 
                        'ĞÑˆĞ¸Ğ±ĞºĞ° GPS. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´';
                    
                    // Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ÑÑ Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°
                    const city = document.getElementById('city-select').value;
                    if (city) {
                        updateQiblaDirection(city);
                    }
                    usingGPS = false;
                    document.getElementById('use-gps-btn').disabled = false;
                    document.getElementById('use-city-btn').disabled = true;
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        function stopGPS() {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
                watchId = null;
            }
        }

        document.getElementById('use-gps-btn').addEventListener('click', async () => {
            if (!navigator.geolocation) {
                alert('Ğ“ĞµĞ¾Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ²Ğ°ÑˆĞ¸Ğ¼ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ¾Ğ¼');
                return;
            }
            
            const compassStarted = await startCompass();
            if (!compassStarted) return;
            
            startGPS();
            usingGPS = true;
            document.getElementById('use-gps-btn').disabled = true;
            document.getElementById('use-city-btn').disabled = false;
            document.getElementById('location-status').textContent = 'ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ...';
        });

        document.getElementById('use-city-btn').addEventListener('click', () => {
            stopCompass();
            stopGPS();
            usingGPS = false;
            document.getElementById('use-gps-btn').disabled = false;
            document.getElementById('use-city-btn').disabled = true;
            
            const city = document.getElementById('city-select').value;
            if (city) {
                updateQiblaDirection(city);
            }
        });

        // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
        document.addEventListener('DOMContentLoaded', () => {
            // Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´ ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ DOM
            const citySelect = document.getElementById('city-select');
            const savedCity = localStorage.getItem('selectedCity');
            
            if (savedCity) {
                citySelect.value = savedCity;
                // Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° Ğ±ĞµĞ· Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
                updatePrayerTimes(savedCity).then(() => {
                    startPrayerTimeUpdates();
                });
            }
            
            // Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½ÑƒÑ Ñ‚ĞµĞ¼Ñƒ
            const savedTheme = localStorage.getItem('selectedTheme');
            if (savedTheme) {
                document.body.classList.add(savedTheme);
                document.querySelector(`.theme-btn[data-theme-class="${savedTheme}"]`).classList.add('active');
                updateCompassTheme(savedTheme);
            }
            
            // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµĞ¼ ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€
            initSlider();
            
            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
            if (Notification.permission === 'granted') {
                const city = citySelect.value;
                if (city) {
                    setupPrayerNotifications(city);
                    notifyBtn.textContent = 'Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹';
                    notifyBtn.classList.add('active');
                }
            }
            
            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ PWA ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => {
                        console.log('ServiceWorker registration successful');
                        checkPWAInstallable();
                    })
                    .catch(err => console.log('ServiceWorker registration failed: ', err));
            }
        });

        // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°
        document.getElementById('city-select').addEventListener('change', async function() {
            if (this.value) {
                await updatePrayerTimes(this.value);
                
                // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ‡ÑŒ
                const now = new Date();
                const midnight = new Date(
                    now.getFullYear(),
                    now.getMonth(),
                    now.getDate() + 1,
                    0, 0, 0
                );
                const timeToMidnight = midnight - now;
                
                setTimeout(() => {
                    updatePrayerTimes(this.value);
                    setInterval(() => updatePrayerTimes(this.value), 86400000);
                }, timeToMidnight);
            }
        });
    </script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js').then(
                    function(registration) {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    },
                    function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    }
                );
            });
        }
    </script>

    <!-- Service Worker Script (inline for demo purposes) -->
    <script id="sw-script" type="text/javascript">
        // Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ¾Ğ´ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ° sw.js
        const CACHE_NAME = 'prayer-times-v3';
        const ASSETS_TO_CACHE = [
            '/',
            '/index.html',
            'https://img.icons8.com/ios/512/islamic/prayer.png',
            'https://www.islamcan.com/audio/adhan/fajr.mp3',
            'https://www.islamcan.com/audio/adhan/standard.mp3'
        ];

        self.addEventListener('install', (event) => {
            event.waitUntil(
                caches.open(CACHE_NAME)
                    .then((cache) => {
                        console.log('ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²');
                        return cache.addAll(ASSETS_TO_CACHE);
                    })
                    .then(() => self.skipWaiting())
            );
        });

        self.addEventListener('activate', (event) => {
            // Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ ĞºÑÑˆĞ¸
            event.waitUntil(
                caches.keys().then(cacheNames => {
                    return Promise.all(
                        cacheNames.map(cache => {
                            if (cache !== CACHE_NAME) {
                                console.log('Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ ĞºÑÑˆ:', cache);
                                return caches.delete(cache);
                            }
                        })
                    );
                }).then(() => {
                    console.log('ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Service Worker');
                    return self.clients.claim();
                })
            );
        });

        self.addEventListener('fetch', (event) => {
            // Ğ”Ğ»Ñ PWA Ğ½Ğ° Android - Ğ¿ĞµÑ€ĞµÑ…Ğ²Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ²ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğº index.html
            if (event.request.mode === 'navigate') {
                event.respondWith(
                    caches.match('/index.html')
                        .then(response => response || fetch(event.request))
                        .catch(() => caches.match('/index.html'))
                );
            } else {
                event.respondWith(
                    caches.match(event.request)
                        .then(response => response || fetch(event.request))
                );
            }
        });

        let prayerTimes = {};
        let qiblaAngle = 0;

        self.addEventListener('message', (event) => {
            if (event.data.type === 'SET_PRAYER_TIMES') {
                prayerTimes = {
                    times: event.data.times,
                    city: event.data.city
                };
                console.log('Prayer times saved in Service Worker');
            }
            
            if (event.data.type === 'SET_QIBLA_ANGLE') {
                qiblaAngle = event.data.angle;
                console.log('Qibla angle saved in Service Worker:', qiblaAngle);
            }
        });

        self.addEventListener('periodicsync', (event) => {
            if (event.tag === 'prayer-times') {
                event.waitUntil(checkPrayerTimes());
            }
        });

        function checkPrayerTimes() {
            if (!prayerTimes.times) return;
            
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            
            for (const [prayer, time] of Object.entries(prayerTimes.times)) {
                if (prayer === 'sunrise') continue;
                
                const [hours, minutes] = time.split(':').map(Number);
                const prayerTime = hours * 60 + minutes;
                let diff = prayerTime - currentTime;
                
                if (diff <= 5) {
                    showNotification(prayer);
                }
            }
        }

        function showNotification(prayer) {
            const prayerNames = {
                'fajr': 'Ğ¤Ğ°Ğ´Ğ¶Ñ€',
                'dhuhr': 'Ğ—ÑƒÑ…Ñ€',
                'asr': 'ĞÑÑ€',
                'maghrib': 'ĞœĞ°Ğ³Ñ€Ğ¸Ğ±',
                'isha': 'Ğ˜ÑˆĞ°'
            };
            
            self.registration.showNotification('Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ°', {
                body: `ĞĞ°ÑÑ‚ÑƒĞ¿Ğ¸Ğ»Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ğ¼Ğ°Ğ·Ğ° ${prayerNames[prayer]}`,
                icon: 'https://img.icons8.com/ios/512/islamic/prayer.png',
                vibrate: [200, 100, 200, 100, 200],
                tag: `prayer-${prayer}-${Date.now()}`,
                data: { prayer: prayer }
            });
        }

        self.addEventListener('notificationclick', (event) => {
            event.notification.close();
            event.waitUntil(
                clients.matchAll({ type: 'window' })
                    .then((clientList) => {
                        if (clients.openWindow) {
                            return clients.openWindow('/');
                        }
                    })
            );
        });
    </script>

    <script>
        // Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ñ„Ğ°Ğ¹Ğ» sw.js Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸
        document.addEventListener('DOMContentLoaded', function() {
            const swScriptContent = document.getElementById('sw-script').textContent;
            const blob = new Blob([swScriptContent], { type: 'text/javascript' });
            const swUrl = URL.createObjectURL(blob);
            
            // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Service Worker Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼ URL
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register(swUrl)
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            }
        });
    </script>
</body>
</html>
