<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0a1e15">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–ù–∞–º–∞–∑">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="description" content="–¢–æ—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–º–∞–∑–∞ —Å —É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∏ –≤–µ—á–µ—Ä–Ω–∏–º–∏ –∞–∑–∫–∞—Ä–∞–º–∏">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/apple-icon-180.png">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    
    <title>–¢–æ—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–º–∞–∑–∞</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap');
        
        :root {
            /* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ò–∑—É–º—Ä—É–¥–Ω–∞—è) */
            --primary-dark: #051a12;
            --primary-color: #0d5e3f;
            --secondary-color: #f0e6d2;
            --gold-color: #c9a769;
            --text-light: rgba(255, 255, 255, 0.95);
            --text-dark: #1a1a1a;
            --current-prayer-color: #4CAF50;
            --glass-bg: rgba(5, 26, 18, 0.18);
            --glass-border: rgba(201, 167, 105, 0.12);
            --glass-highlight: rgba(255, 255, 255, 0.15);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
            --card-bg: rgba(255, 255, 255, 0.1);
            --liquid-shine: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.05) 45%,
                rgba(255, 255, 255, 0) 55%,
                rgba(255, 255, 255, 0.03) 100%
            );
            --theme-name: "–ò–∑—É–º—Ä—É–¥–Ω–∞—è";
            --theme-icon: "üåø";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%230d5e3f' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* –°–∞–ø—Ñ–∏—Ä–æ–≤–∞—è —Ç–µ–º–∞ */
        .theme-sapphire {
            --primary-dark: #0a1026;
            --primary-color: #1a3a8f;
            --secondary-color: #e0e7ff;
            --gold-color: #8a9eff;
            --current-prayer-color: #5d8aff;
            --glass-bg: rgba(10, 16, 38, 0.18);
            --glass-border: rgba(138, 158, 255, 0.12);
            --card-bg: rgba(255, 255, 255, 0.08);
            --theme-name: "–°–∞–ø—Ñ–∏—Ä–æ–≤–∞—è";
            --theme-icon: "üî∑";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%231a3a8f' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* –ë–æ—Ä–¥–æ–≤–∞—è —Ç–µ–º–∞ */
        .theme-burgundy {
            --primary-dark: #1a0a12;
            --primary-color: #6e1d45;
            --secondary-color: #ffd6e7;
            --gold-color: #d48a9e;
            --current-prayer-color: #c44569;
            --glass-bg: rgba(26, 10, 18, 0.18);
            --glass-border: rgba(212, 138, 158, 0.12);
            --card-bg: rgba(255, 255, 255, 0.07);
            --theme-name: "–ë–æ—Ä–¥–æ–≤–∞—è";
            --theme-icon: "üåπ";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%236e1d45' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* –Ø–Ω—Ç–∞—Ä–Ω–∞—è —Ç–µ–º–∞ */
        .theme-amber {
            --primary-dark: #1a1205;
            --primary-color: #8f6a1a;
            --secondary-color: #fff4e0;
            --gold-color: #ffc96b;
            --current-prayer-color: #ffaa33;
            --glass-bg: rgba(26, 18, 5, 0.18);
            --glass-border: rgba(255, 201, 107, 0.12);
            --card-bg: rgba(255, 255, 255, 0.09);
            --theme-name: "–Ø–Ω—Ç–∞—Ä–Ω–∞—è";
            --theme-icon: "üçØ";
            --theme-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54 50.41c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5H54c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5H54zM.11 50.41c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H-.28v-2.5h.39c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H-.28v-2.5h.39zm48.27-24.78c-3.37 0-6.13-2.76-6.13-6.13 0-3.37 2.76-6.13 6.13-6.13h4.38v-2.5h-4.38c-4.76 0-8.63 3.87-8.63 8.63 0 4.76 3.87 8.63 8.63 8.63h4.38v-2.5h-4.38zM6.24 25.63c3.37 0 6.13-2.76 6.13-6.13 0-3.37-2.76-6.13-6.13-6.13H1.86v-2.5h4.38c4.76 0 8.63 3.87 8.63 8.63 0 4.76-3.87 8.63-8.63 8.63H1.86v-2.5h4.38z' fill='%238f6a1a' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        
        /* –ù–æ–≤—ã–µ —Ç–µ–º—ã –¥–ª—è –∫–æ–º–ø–∞—Å–∞ */
        .compass-theme-emerald {
            --compass-bg: rgba(13, 94, 63, 0.1);
            --compass-border: #0d5e3f;
            --compass-arrow: #c9a769;
            --compass-needle: #e74c3c;
            --compass-text: #f0e6d2;
        }
        
        .compass-theme-sapphire {
            --compass-bg: rgba(26, 58, 143, 0.1);
            --compass-border: #1a3a8f;
            --compass-arrow: #8a9eff;
            --compass-needle: #e74c3c;
            --compass-text: #e0e7ff;
        }
        
        .compass-theme-burgundy {
            --compass-bg: rgba(110, 29, 69, 0.1);
            --compass-border: #6e1d45;
            --compass-arrow: #d48a9e;
            --compass-needle: #e74c3c;
            --compass-text: #ffd6e7;
        }
        
        .compass-theme-amber {
            --compass-bg: rgba(143, 106, 26, 0.1);
            --compass-border: #8f6a1a;
            --compass-arrow: #ffc96b;
            --compass-needle: #e74c3c;
            --compass-text: #fff4e0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            min-height: 100vh;
            font-family: 'Scheherazade New', serif;
            background: var(--primary-dark);
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            perspective: 1000px;
            transition: all 0.5s ease;
            position: relative;
            padding-top: env(safe-area-inset-top, 0px);
            padding-bottom: env(safe-area-inset-bottom, 0px);
        }
        
        /* –£–∑–æ—Ä —Ñ–æ–Ω–∞ –¥–ª—è —Ç–µ–º—ã */
        body::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--theme-pattern);
            opacity: 0.3;
            z-index: -2;
            pointer-events: none;
        }
        
        .liquid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(var(--primary-rgb), 0.1) 0%, transparent 25%),
                radial-gradient(circle at 80% 70%, rgba(var(--gold-rgb), 0.08) 0%, transparent 25%);
            z-index: -1;
            overflow: hidden;
            transition: all 0.5s ease;
        }
        
        .liquid-element {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(var(--gold-rgb), 0.08), transparent 70%);
            filter: blur(60px);
            opacity: 0.3;
            animation: float 15s infinite linear;
            z-index: -1;
            transition: all 0.5s ease;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, 30px) scale(1.1); }
            66% { transform: translate(-30px, 40px) scale(0.9); }
            100% { transform: translate(0, 0) scale(1); }
        }
        
        .container {
            position: relative;
            z-index: 10;
            width: 95%;
            max-width: 850px;
            background: var(--glass-bg);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-radius: 24px;
            padding: 30px;
            text-align: center;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transform-style: preserve-3d;
            margin: 20px 0;
            overflow: hidden;
            transition: transform 0.5s ease, box-shadow 0.5s ease;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) skewX(-15deg); }
            100% { transform: translateX(100%) skewX(-15deg); }
        }
        
        h1 {
            font-family: 'Amiri', serif;
            font-size: clamp(1.8rem, 4vw, 2.8rem);
            margin-bottom: 20px;
            color: var(--gold-color);
            text-shadow: 0 2px 10px rgba(var(--gold-rgb), 0.2);
            letter-spacing: 1px;
            position: relative;
            font-weight: 700;
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 25%;
            width: 50%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold-color), transparent);
            animation: titleGlow 3s infinite;
        }
        
        @keyframes titleGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }
        
        .select-wrapper {
            position: relative;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            transform: translateZ(0);
        }
        
        select {
            width: 100%;
            padding: 14px 20px;
            font-size: 1rem;
            background: rgba(var(--primary-rgb), 0.25);
            border: 1px solid rgba(var(--gold-rgb), 0.25);
            border-radius: 12px;
            color: var(--text-light);
            cursor: pointer;
            appearance: none;
            outline: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            font-family: 'Scheherazade New', serif;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }
        
        select:hover {
            background: rgba(var(--primary-rgb), 0.35);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        
        .prayer-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
            margin: 25px 0;
            perspective: 1000px;
        }
        
        .prayer-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid var(--glass-border);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 
                0 4px 30px rgba(0, 0, 0, 0.1),
                inset 0 0 16px rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transform: translateZ(0);
            z-index: 1;
        }
        
        .prayer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            animation-delay: calc(var(--i) * 0.5s);
            opacity: 0.6;
            border-radius: inherit;
        }
        
        .prayer-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 1px solid transparent;
            border-radius: inherit;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.1) 0%,
                rgba(255, 255, 255, 0) 20%,
                rgba(255, 255, 255, 0) 80%,
                rgba(255, 255, 255, 0.1) 100%
            );
            pointer-events: none;
            mask: 
                linear-gradient(#fff 0 0) content-box, 
                linear-gradient(#fff 0 0);
            mask-composite: exclude;
            -webkit-mask: 
                linear-gradient(#fff 0 0) content-box, 
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            padding: 1px;
        }
        
        .prayer-card.current {
            background: linear-gradient(
                135deg,
                rgba(var(--current-prayer-rgb), 0.2),
                rgba(var(--primary-rgb), 0.3)
            );
            border-color: rgba(var(--current-prayer-rgb), 0.3);
            box-shadow: 
                0 0 25px rgba(var(--current-prayer-rgb), 0.25),
                inset 0 0 16px rgba(var(--current-prayer-rgb), 0.1);
            animation: pulseGlow 3s infinite alternate;
        }
        
        @keyframes pulseGlow {
            0% { 
                box-shadow: 
                    0 0 15px rgba(var(--current-prayer-rgb), 0.25),
                    inset 0 0 16px rgba(var(--current-prayer-rgb), 0.1);
            }
            100% { 
                box-shadow: 
                    0 0 30px rgba(var(--current-prayer-rgb), 0.4),
                    inset 0 0 16px rgba(var(--current-prayer-rgb), 0.2);
            }
        }
        
        .prayer-name {
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--gold-color);
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
        }
        
        .prayer-time {
            font-size: 1.5rem;
            font-family: 'Amiri', serif;
            margin-bottom: 6px;
            position: relative;
            z-index: 2;
        }
        
        .time-remaining {
            font-size: 0.9rem;
            color: var(--gold-color);
            margin: 6px 0;
            font-family: 'Amiri', serif;
            position: relative;
            z-index: 2;
        }
        
        .additional-info {
            font-size: 0.8rem;
            color: var(--secondary-color);
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }
        
        .next-prayer-info {
            margin: 20px 0;
            padding: 16px;
            background: rgba(var(--primary-rgb), 0.25);
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            font-size: 1rem;
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .next-prayer-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            animation-delay: 0.3s;
            opacity: 0.6;
            border-radius: inherit;
        }
        
        .next-prayer-name {
            color: var(--gold-color);
            font-weight: bold;
        }
        
        .next-prayer-time {
            font-family: 'Amiri', serif;
            font-size: 1.2rem;
        }
        
        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è PWA */
        .theme-switcher {
            position: fixed;
            top: calc(10px + env(safe-area-inset-top, 0px));
            right: 10px;
            display: flex;
            gap: 8px;
            z-index: 100;
            background: rgba(var(--primary-dark-rgb), 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 8px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .theme-switcher:hover {
            background: rgba(var(--primary-dark-rgb), 0.9);
        }
        
        .theme-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .theme-btn::after {
            content: attr(data-theme) " " var(--theme-icon);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            white-space: nowrap;
            opacity: 0;
            transition: all 0.3s ease;
            color: var(--text-light);
            background: rgba(var(--primary-dark-rgb), 0.9);
            padding: 4px 8px;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(5px);
            width: max-content;
        }
        
        .theme-btn:hover::after {
            bottom: -40px;
            opacity: 1;
        }
        
        .theme-btn.active {
            transform: scale(1.1);
            box-shadow: 0 0 0 2px var(--gold-color);
        }
        
        /* –¶–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫ —Ç–µ–º */
        .theme-btn[data-theme="emerald"] {
            background: linear-gradient(135deg, #0d5e3f, #0a1e15);
        }
        
        .theme-btn[data-theme="sapphire"] {
            background: linear-gradient(135deg, #1a3a8f, #0a1026);
        }
        
        .theme-btn[data-theme="burgundy"] {
            background: linear-gradient(135deg, #6e1d45, #1a0a12);
        }
        
        .theme-btn[data-theme="amber"] {
            background: linear-gradient(135deg, #8f6a1a, #1a1205);
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä –∞–∑–∫–∞—Ä–æ–≤ */
        .azkar-switcher {
            position: relative;
            margin: 30px auto;
            width: 90%;
            max-width: 400px;
            height: 60px;
            background: rgba(var(--primary-rgb), 0.2);
            border-radius: 30px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.1),
                0 4px 30px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 5px;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
            user-select: none;
        }
        
        .azkar-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            color: var(--secondary-color);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 2;
            min-width: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .azkar-option.active {
            color: var(--gold-color);
        }
        
        .azkar-slider {
            position: absolute;
            top: 5px;
            height: calc(100% - 10px);
            background: linear-gradient(
                135deg,
                rgba(var(--gold-rgb), 0.3),
                rgba(var(--gold-rgb), 0.2)
            );
            border-radius: 25px;
            box-shadow: 
                0 4px 20px rgba(var(--gold-rgb), 0.2),
                inset 0 0 10px rgba(255, 255, 255, 0.1);
            transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            z-index: 1;
            backdrop-filter: blur(5px);
            overflow: hidden;
            will-change: transform;
            width: calc(33.333% - 10px);
            left: 5px;
        }
        
        .azkar-slider::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            animation: shine 8s infinite;
            opacity: 0.5;
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –∞–∑–∫–∞—Ä–∞–º–∏ */
        .azkar-container {
            display: none;
            margin: 20px 0;
            padding: 20px;
            background: rgba(var(--primary-dark-rgb), 0.3);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .azkar-container.active {
            display: block;
        }
        
        .azkar-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            opacity: 0.3;
        }
        
        .azkar-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.1),
                inset 0 0 10px rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .azkar-item:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.15),
                inset 0 0 15px rgba(255, 255, 255, 0.1);
        }
        
        .azkar-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--liquid-shine);
            z-index: -1;
            pointer-events: none;
            animation: shine 8s infinite;
            opacity: 0.2;
        }
        
        .azkar-text {
            font-size: 1.2rem;
            line-height: 1.6;
            color: var(--text-light);
            margin-bottom: 10px;
            font-family: 'Amiri', serif;
            text-align: right;
            direction: rtl;
        }
        
        .azkar-translation {
            font-size: 1rem;
            color: var(--secondary-color);
            line-height: 1.5;
            margin-bottom: 8px;
        }
        
        .azkar-reference {
            font-size: 0.8rem;
            color: var(--gold-color);
            font-style: italic;
        }
        
        .ayah-container {
            margin: 20px 0;
            position: relative;
            z-index: 2;
        }
        
        .ayah {
            font-size: 1.8rem;
            line-height: 1.6;
            color: var(--gold-color);
            font-family: 'Amiri', serif;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .ayah-translation {
            font-size: 1rem;
            margin-top: 12px;
            color: var(--secondary-color);
            opacity: 0.9;
        }
        
        .notify-btn {
            background: rgba(var(--gold-rgb), 0.15);
            color: var(--gold-color);
            border: 1px solid rgba(var(--gold-rgb), 0.3);
            padding: 14px 32px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.15),
                inset 0 0 12px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            font-weight: bold;
            z-index: 2;
        }
        
        .notify-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--liquid-shine);
            transition: 0.6s;
            z-index: -1;
        }
        
        .notify-btn:hover {
            background: rgba(var(--gold-rgb), 0.25);
            box-shadow: 
                0 6px 20px rgba(var(--gold-rgb), 0.2),
                inset 0 0 16px rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .notify-btn:hover::before {
            left: 100%;
        }

        .notify-btn.active {
            background: rgba(var(--current-prayer-rgb), 0.2);
            border-color: rgba(var(--current-prayer-rgb), 0.3);
            color: #fff;
        }
        
        .install-btn {
            background: rgba(var(--gold-rgb), 0.15);
            color: var(--gold-color);
            border: 1px solid rgba(var(--gold-rgb), 0.3);
            padding: 14px 32px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.15),
                inset 0 0 12px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            font-weight: bold;
            z-index: 2;
            display: none;
            animation: pulse 2s infinite;
        }
        
        .install-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--liquid-shine);
            transition: 0.6s;
            z-index: -1;
        }
        
        .install-btn:hover {
            background: rgba(var(--gold-rgb), 0.25);
            box-shadow: 
                0 6px 20px rgba(var(--gold-rgb), 0.2),
                inset 0 0 16px rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .install-btn:hover::before {
            left: 100%;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–∞—Å–∞ –ö–∞–∞–±—ã */
        .qibla-container {
            margin: 20px 0;
            padding: 20px;
            background: rgba(var(--primary-dark-rgb), 0.3);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .qibla-compass {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            position: relative;
            border-radius: 50%;
            background: var(--compass-bg, rgba(0, 0, 0, 0.2));
            border: 2px solid var(--compass-border, var(--gold-color));
            box-shadow: 0 0 20px rgba(var(--gold-rgb), 0.3);
            transition: all 0.3s ease;
        }

        .compass-face {
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="none" stroke="%23c9a769" stroke-width="1"/><path d="M50 10 L52 20 L48 20 Z" fill="%23c9a769"/><text x="50" y="25" text-anchor="middle" fill="%23c9a769" font-size="8">N</text><path d="M50 90 L52 80 L48 80 Z" fill="%23c9a769"/><text x="50" y="85" text-anchor="middle" fill="%23c9a769" font-size="8">S</text><path d="M10 50 L20 52 L20 48 Z" fill="%23c9a769"/><text x="15" y="55" text-anchor="middle" fill="%23c9a769" font-size="8">W</text><path d="M90 50 L80 52 L80 48 Z" fill="%23c9a769"/><text x="85" y="55" text-anchor="middle" fill="%23c9a769" font-size="8">E</text></svg>');
            background-size: contain;
            position: relative;
            border-radius: 50%;
            transition: transform 0.5s ease;
        }

        .compass-arrow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60%;
            height: 60%;
            transform: translate(-50%, -50%);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 10 L60 90 L50 70 L40 90 Z" fill="%23c9a769"/><circle cx="50" cy="50" r="10" fill="%230d5e3f"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            filter: drop-shadow(0 0 5px rgba(201, 167, 105, 0.7));
            transition: transform 0.1s ease;
        }

        .compass-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            height: 80%;
            transform: translate(-50%, -50%);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="5" fill="%23e74c3c"/><path d="M50 10 L52 45 L48 45 Z" fill="%23e74c3c"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
        }

        .qibla-info {
            margin-top: 15px;
            font-size: 1rem;
            color: var(--secondary-color);
        }

        .qibla-degree {
            font-weight: bold;
            color: var(--gold-color);
        }

        .location-status {
            font-size: 0.8rem;
            color: var(--secondary-color);
            margin-top: 5px;
            font-style: italic;
        }

        .compass-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .compass-btn {
            background: rgba(var(--gold-rgb), 0.15);
            color: var(--gold-color);
            border: 1px solid rgba(var(--gold-rgb), 0.3);
            padding: 8px 16px;
            font-size: 0.9rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .compass-btn:hover {
            background: rgba(var(--gold-rgb), 0.25);
        }

        .compass-btn.active {
            background: rgba(var(--current-prayer-rgb), 0.2);
            border-color: rgba(var(--current-prayer-rgb), 0.3);
            color: #fff;
        }
        
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 480px) {
            .azkar-switcher {
                height: 50px;
            }
            
            .azkar-option {
                font-size: 0.9rem;
                padding: 8px 5px;
            }
            
            .prayer-times {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .notify-btn, .install-btn {
                padding: 12px 24px;
                font-size: 0.9rem;
            }

            .theme-switcher {
                top: calc(10px + env(safe-area-inset-top, 0px));
                right: 10px;
                gap: 5px;
                padding: 6px;
            }
            
            .theme-btn {
                width: 30px;
                height: 30px;
                font-size: 14px;
            }
            
            .theme-btn::after {
                font-size: 0.6rem;
                bottom: -35px;
            }
            
            .theme-btn:hover::after {
                bottom: -40px;
            }

            .qibla-compass {
                width: 150px;
                height: 150px;
            }

            .compass-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }
        
        @media (min-width: 768px) {
            .container {
                padding: 40px;
                border-radius: 28px;
            }
            
            .prayer-card {
                padding: 20px;
                border-radius: 20px;
            }
            
            .prayer-name {
                font-size: 1.2rem;
            }
            
            .prayer-time {
                font-size: 1.8rem;
            }
            
            .next-prayer-info {
                padding: 20px;
                border-radius: 20px;
            }
            
            .azkar-container {
                padding: 30px;
                border-radius: 25px;
            }
            
            .azkar-item {
                padding: 20px;
                border-radius: 18px;
            }
            
            .azkar-text {
                font-size: 1.4rem;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è PWA –Ω–∞ iOS */
        @supports (-webkit-touch-callout: none) {
            body {
                padding-top: env(safe-area-inset-top, 0px);
                padding-bottom: env(safe-area-inset-bottom, 0px);
            }
            
            .container {
                margin-top: calc(20px + env(safe-area-inset-top, 0px));
            }
            
            .theme-switcher {
                top: calc(10px + env(safe-area-inset-top, 0px));
            }
        }
    </style>
</head>
<body>
    <div class="liquid-bg" id="liquid-bg"></div>
    
    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º -->
    <div class="theme-switcher">
        <div class="theme-btn active" data-theme="emerald" data-theme-class=""></div>
        <div class="theme-btn" data-theme="sapphire" data-theme-class="theme-sapphire"></div>
        <div class="theme-btn" data-theme="burgundy" data-theme-class="theme-burgundy"></div>
        <div class="theme-btn" data-theme="amber" data-theme-class="theme-amber"></div>
    </div>
    
    <div class="container">
        <h1>–¢–æ—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–º–∞–∑–∞</h1>
        
        <div class="select-wrapper">
            <select id="city-select">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                <option value="saint-petersburg">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                <option value="kazan">–ö–∞–∑–∞–Ω—å</option>
                <option value="ufa">–£—Ñ–∞</option>
                <option value="makhachkala">–ú–∞—Ö–∞—á–∫–∞–ª–∞</option>
                <option value="grozny">–ì—Ä–æ–∑–Ω—ã–π</option>
                <option value="novosibirsk">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                <option value="krasnoyarsk">–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫</option>
                <option value="khasavyurt">–•–∞—Å–∞–≤—é—Ä—Ç</option>
                <option value="belidzhi">–ë–µ–ª–∏–¥–∂–∏</option>
                <option value="ahty">–ê—Ö—Ç—ã</option>
                <option value="kabir">–ö–∞–±–∏—Ä</option>
            </select>
        </div>
        
        <div class="prayer-times" id="prayer-times">
            <div class="prayer-card" data-prayer="fajr" style="--i:0">
                <div class="prayer-name">–§–∞–¥–∂—Ä</div>
                <div class="prayer-time" id="fajr-time">--:--</div>
                <div class="time-remaining" id="fajr-remaining"></div>
                <div class="additional-info">18¬∞ –ø–æ–¥ –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–º</div>
            </div>
            <div class="prayer-card" data-prayer="sunrise" style="--i:1">
                <div class="prayer-name">–í–æ—Å—Ö–æ–¥</div>
                <div class="prayer-time" id="sunrise-time">--:--</div>
                <div class="time-remaining" id="sunrise-remaining"></div>
                <div class="additional-info">0¬∞ –ø–æ–¥ –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–º</div>
            </div>
            <div class="prayer-card" data-prayer="dhuhr" style="--i:2">
                <div class="prayer-name">–ó—É—Ö—Ä</div>
                <div class="prayer-time" id="dhuhr-time">--:--</div>
                <div class="time-remaining" id="dhuhr-remaining"></div>
                <div class="additional-info">–ü–æ—Å–ª–µ –∑–µ–Ω–∏—Ç–∞</div>
            </div>
            <div class="prayer-card" data-prayer="asr" style="--i:3">
                <div class="prayer-name">–ê—Å—Ä</div>
                <div class="prayer-time" id="asr-time">--:--</div>
                <div class="time-remaining" id="asr-remaining"></div>
                <div class="additional-info">–¢–µ–Ω—å = –ø—Ä–µ–¥–º–µ—Ç—É</div>
            </div>
            <div class="prayer-card" data-prayer="maghrib" style="--i:4">
                <div class="prayer-name">–ú–∞–≥—Ä–∏–±</div>
                <div class="prayer-time" id="maghrib-time">--:--</div>
                <div class="time-remaining" id="maghrib-remaining"></div>
                <div class="additional-info">–°–æ–ª–Ω—Ü–µ —Å–∫—Ä—ã–ª–æ—Å—å</div>
            </div>
            <div class="prayer-card" data-prayer="isha" style="--i:5">
                <div class="prayer-name">–ò—à–∞</div>
                <div class="prayer-time" id="isha-time">--:--</div>
                <div class="time-remaining" id="isha-remaining"></div>
                <div class="additional-info">17¬∞ –ø–æ–¥ –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–º</div>
            </div>
        </div>
        
        <div class="next-prayer-info" id="next-prayer-info">
            –î–æ <span class="next-prayer-name" id="next-prayer-name">—Å–ª–µ–¥—É—é—â–µ–≥–æ –Ω–∞–º–∞–∑–∞</span>: 
            <span class="next-prayer-time" id="next-prayer-time">--:--:--</span>
        </div>
        
        <!-- –ö–æ–º–ø–∞—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ö–∞–∞–±—ã -->
        <div class="qibla-container">
            <div class="qibla-compass">
                <div class="compass-face" id="compass-face">
                    <div class="compass-arrow" id="qibla-arrow"></div>
                    <div class="compass-needle" id="compass-needle"></div>
                </div>
            </div>
            <div class="qibla-info">
                –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ö–∞–∞–±—É: <span class="qibla-degree" id="qibla-degree">--¬∞</span>
                <div class="location-status" id="location-status">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥</div>
            </div>
            <div class="compass-controls">
                <button class="compass-btn" id="use-gps-btn">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPS</button>
                <button class="compass-btn" id="use-city-btn" disabled>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ä–æ–¥</button>
            </div>
        </div>
        
        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∞–∑–∫–∞—Ä–æ–≤ -->
        <div class="azkar-switcher" id="azkar-switcher">
            <div class="azkar-slider" id="azkar-slider"></div>
            <div class="azkar-option active" data-target="morning">–£—Ç—Ä–µ–Ω–Ω–∏–µ</div>
            <div class="azkar-option" data-target="evening">–í–µ—á–µ—Ä–Ω–∏–µ</div>
            <div class="azkar-option" data-target="after-prayer">–ü–æ—Å–ª–µ –Ω–∞–º–∞–∑–∞</div>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –∞–∑–∫–∞—Ä–∞–º–∏ -->
        <div class="azkar-container active" id="morning-azkar">
            <!-- –£—Ç—Ä–µ–Ω–Ω–∏–µ –∞–∑–∫–∞—Ä—ã -->
            <div class="azkar-item">
                <div class="azkar-text">ÿ£ŸéÿµŸíÿ®Ÿéÿ≠ŸíŸÜŸéÿß ŸàŸéÿ£ŸéÿµŸíÿ®Ÿéÿ≠Ÿé ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸÑŸêŸÑŸéŸëŸáŸêÿå ŸàŸéÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸÑŸêŸÑŸéŸëŸáŸêÿå ŸÑÿßŸé ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑÿßŸéŸë ÿßŸÑŸÑŸéŸëŸáŸè ŸàŸéÿ≠ŸíÿØŸéŸáŸè ŸÑÿßŸé ÿ¥Ÿéÿ±ŸêŸäŸÉŸé ŸÑŸéŸáŸèÿå ŸÑŸéŸáŸè ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸàŸéŸÑŸéŸáŸè ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸàŸéŸáŸèŸàŸé ÿπŸéŸÑŸéŸâ ŸÉŸèŸÑŸêŸë ÿ¥ŸéŸäŸíÿ°Ÿç ŸÇŸéÿØŸêŸäÿ±Ÿåÿå ÿ±Ÿéÿ®ŸêŸë ÿ£Ÿéÿ≥Ÿíÿ£ŸéŸÑŸèŸÉŸé ÿÆŸéŸäŸíÿ±Ÿé ŸÖŸéÿß ŸÅŸêŸä ŸáŸéÿ∞Ÿéÿß ÿßŸÑŸíŸäŸéŸàŸíŸÖŸê ŸàŸéÿÆŸéŸäŸíÿ±Ÿé ŸÖŸéÿß ÿ®ŸéÿπŸíÿØŸéŸáŸèÿå ŸàŸéÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸí ÿ¥Ÿéÿ±ŸêŸë ŸÖŸéÿß ŸÅŸêŸä ŸáŸéÿ∞Ÿéÿß ÿßŸÑŸíŸäŸéŸàŸíŸÖŸê ŸàŸéÿ¥Ÿéÿ±ŸêŸë ŸÖŸéÿß ÿ®ŸéÿπŸíÿØŸéŸáŸèÿå ÿ±Ÿéÿ®ŸêŸë ÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸé ÿßŸÑŸíŸÉŸéÿ≥ŸéŸÑŸê ŸàŸéÿ≥ŸèŸàÿ°Ÿê ÿßŸÑŸíŸÉŸêÿ®Ÿéÿ±Ÿêÿå ÿ±Ÿéÿ®ŸêŸë ÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸí ÿπŸéÿ∞Ÿéÿßÿ®Ÿç ŸÅŸêŸä ÿßŸÑŸÜŸéŸëÿßÿ±Ÿê ŸàŸéÿπŸéÿ∞Ÿéÿßÿ®Ÿç ŸÅŸêŸä ÿßŸÑŸíŸÇŸéÿ®Ÿíÿ±Ÿê</div>
                <div class="azkar-translation">"–ú—ã –ø—Ä–æ—Å–Ω—É–ª–∏—Å—å, –∏ –≤–ª–∞—Å—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ê–ª–ª–∞—Ö—É, –∏ —Ö–≤–∞–ª–∞ –ê–ª–ª–∞—Ö—É. –ù–µ—Ç –±–æ–∂–µ—Å—Ç–≤–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ –ª–∏—à—å –ê–ª–ª–∞—Ö–∞, —É –ö–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–æ—Ç–æ–≤–∞—Ä–∏—â–∞. –ï–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–ª–∞—Å—Ç—å, –∏ –ï–º—É —Ö–≤–∞–ª–∞, –∏ –û–Ω –Ω–∞–¥ –≤—Å—è–∫–æ–π –≤–µ—â—å—é –º–æ—â–µ–Ω. –ì–æ—Å–ø–æ–¥—å, —è –ø—Ä–æ—à—É —É –¢–µ–±—è –±–ª–∞–≥–∞ —ç—Ç–æ–≥–æ –¥–Ω—è –∏ –±–ª–∞–≥–∞ —Ç–æ–≥–æ, —á—Ç–æ –ø–æ—Å–ª–µ –Ω–µ–≥–æ, –∏ –ø—Ä–∏–±–µ–≥–∞—é –∫ –¢–µ–±–µ –æ—Ç –∑–ª–∞ —ç—Ç–æ–≥–æ –¥–Ω—è –∏ –∑–ª–∞ —Ç–æ–≥–æ, —á—Ç–æ –ø–æ—Å–ª–µ –Ω–µ–≥–æ. –ì–æ—Å–ø–æ–¥—å, —è –ø—Ä–∏–±–µ–≥–∞—é –∫ –¢–µ–±–µ –æ—Ç –ª–µ–Ω–∏ –∏ –¥—Ä—è—Ö–ª–æ—Å—Ç–∏ –≤ —Å—Ç–∞—Ä–æ—Å—Ç–∏. –ì–æ—Å–ø–æ–¥—å, —è –ø—Ä–∏–±–µ–≥–∞—é –∫ –¢–µ–±–µ –æ—Ç –º—É—á–µ–Ω–∏–π –≤ –û–≥–Ω–µ –∏ –º—É—á–µ–Ω–∏–π –≤ –º–æ–≥–∏–ª–µ".</div>
                <div class="azkar-reference">–ú—É—Å–ª–∏–º 2723</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ÿßŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ÿ®ŸêŸÉŸé ÿ£ŸéÿµŸíÿ®Ÿéÿ≠ŸíŸÜŸéÿßÿå ŸàŸéÿ®ŸêŸÉŸé ÿ£ŸéŸÖŸíÿ≥ŸéŸäŸíŸÜŸéÿßÿå ŸàŸéÿ®ŸêŸÉŸé ŸÜŸéÿ≠ŸíŸäŸéÿßÿå ŸàŸéÿ®ŸêŸÉŸé ŸÜŸéŸÖŸèŸàÿ™Ÿèÿå ŸàŸéÿ•ŸêŸÑŸéŸäŸíŸÉŸé ÿßŸÑŸÜŸèŸëÿ¥ŸèŸàÿ±Ÿè</div>
                <div class="azkar-translation">"–û –ê–ª–ª–∞—Ö, —Å –¢–æ–±–æ–π –º—ã –≤—Å—Ç—Ä–µ—á–∞–µ–º —É—Ç—Ä–æ, —Å –¢–æ–±–æ–π –≤—Å—Ç—Ä–µ—á–∞–µ–º –≤–µ—á–µ—Ä, —Å –¢–æ–±–æ–π –º—ã –∂–∏–≤—ë–º –∏ —Å –¢–æ–±–æ–π —É–º–∏—Ä–∞–µ–º, –∏ –∫ –¢–µ–±–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–µ!"</div>
                <div class="azkar-reference">–ê—Ç-–¢–∏—Ä–º–∏–∑–∏ 3391</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê ŸàŸéÿ®Ÿêÿ≠ŸéŸÖŸíÿØŸêŸáŸê</div>
                <div class="azkar-translation">"–ü—Ä–µ—á–∏—Å—Ç –ê–ª–ª–∞—Ö, –∏ —Ö–≤–∞–ª–∞ –ï–º—É" (100 —Ä–∞–∑)</div>
                <div class="azkar-reference">–ú—É—Å–ª–∏–º 2691</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ŸÑŸéÿß ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑŸéŸëÿß ÿßŸÑŸÑŸéŸëŸáŸè ŸàŸéÿ≠ŸíÿØŸéŸáŸè ŸÑŸéÿß ÿ¥Ÿéÿ±ŸêŸäŸÉŸé ŸÑŸéŸáŸèÿå ŸÑŸéŸáŸè ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸàŸéŸÑŸéŸáŸè ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸèÿå ŸàŸéŸáŸèŸàŸé ÿπŸéŸÑŸéŸâ ŸÉŸèŸÑŸêŸë ÿ¥ŸéŸäŸíÿ°Ÿç ŸÇŸéÿØŸêŸäÿ±Ÿå</div>
                <div class="azkar-translation">"–ù–µ—Ç –±–æ–∂–µ—Å—Ç–≤–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ –ª–∏—à—å –ê–ª–ª–∞—Ö–∞, —É –ö–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–æ—Ç–æ–≤–∞—Ä–∏—â–∞. –ï–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–ª–∞—Å—Ç—å, –∏ –ï–º—É —Ö–≤–∞–ª–∞, –∏ –û–Ω –Ω–∞–¥ –≤—Å—è–∫–æ–π –≤–µ—â—å—é –º–æ—â–µ–Ω" (10 —Ä–∞–∑)</div>
                <div class="azkar-reference">–ê–±—É –î–∞—É–¥ 5077</div>
            </div>
        </div>
        
        <div class="azkar-container" id="evening-azkar">
            <!-- –í–µ—á–µ—Ä–Ω–∏–µ –∞–∑–∫–∞—Ä—ã -->
            <div class="azkar-item">
                <div class="azkar-text">ÿ£ŸéŸÖŸíÿ≥ŸéŸäŸíŸÜŸéÿß ŸàŸéÿ£ŸéŸÖŸíÿ≥ŸéŸâ ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸÑŸêŸÑŸéŸëŸáŸêÿå ŸàŸéÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸÑŸêŸÑŸéŸëŸáŸêÿå ŸÑÿßŸé ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑÿßŸéŸë ÿßŸÑŸÑŸéŸëŸáŸè ŸàŸéÿ≠ŸíÿØŸéŸáŸè ŸÑÿßŸé ÿ¥Ÿéÿ±ŸêŸäŸÉŸé ŸÑŸéŸáŸèÿå ŸÑŸéŸáŸè ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸàŸéŸÑŸéŸáŸè ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸàŸéŸáŸèŸàŸé ÿπŸéŸÑŸéŸâ ŸÉŸèŸÑŸêŸë ÿ¥ŸéŸäŸíÿ°Ÿç ŸÇŸéÿØŸêŸäÿ±Ÿåÿå ÿ±Ÿéÿ®ŸêŸë ÿ£Ÿéÿ≥Ÿíÿ£ŸéŸÑŸèŸÉŸé ÿÆŸéŸäŸíÿ±Ÿé ŸÖŸéÿß ŸÅŸêŸä ŸáŸéÿ∞ŸêŸáŸê ÿßŸÑŸÑŸéŸëŸäŸíŸÑŸéÿ©Ÿê ŸàŸéÿÆŸéŸäŸíÿ±Ÿé ŸÖŸéÿß ÿ®ŸéÿπŸíÿØŸéŸáŸéÿßÿå ŸàŸéÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸí ÿ¥Ÿéÿ±ŸêŸë ŸÖŸéÿß ŸÅŸêŸä ŸáŸéÿ∞ŸêŸáŸê ÿßŸÑŸÑŸéŸëŸäŸíŸÑŸéÿ©Ÿê ŸàŸéÿ¥Ÿéÿ±ŸêŸë ŸÖŸéÿß ÿ®ŸéÿπŸíÿØŸéŸáŸéÿßÿå ÿ±Ÿéÿ®ŸêŸë ÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸé ÿßŸÑŸíŸÉŸéÿ≥ŸéŸÑŸê ŸàŸéÿ≥ŸèŸàÿ°Ÿê ÿßŸÑŸíŸÉŸêÿ®Ÿéÿ±Ÿêÿå ÿ±Ÿéÿ®ŸêŸë ÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸí ÿπŸéÿ∞Ÿéÿßÿ®Ÿç ŸÅŸêŸä ÿßŸÑŸÜŸéŸëÿßÿ±Ÿê ŸàŸéÿπŸéÿ∞Ÿéÿßÿ®Ÿç ŸÅŸêŸä ÿßŸÑŸíŸÇŸéÿ®Ÿíÿ±Ÿê</div>
                <div class="azkar-translation">"–ú—ã –¥–æ–∂–∏–ª–∏ –¥–æ –≤–µ—á–µ—Ä–∞, –∏ –≤–ª–∞—Å—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ê–ª–ª–∞—Ö—É, –∏ —Ö–≤–∞–ª–∞ –ê–ª–ª–∞—Ö—É. –ù–µ—Ç –±–æ–∂–µ—Å—Ç–≤–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ –ª–∏—à—å –ê–ª–ª–∞—Ö–∞, —É –ö–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–æ—Ç–æ–≤–∞—Ä–∏—â–∞. –ï–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–ª–∞—Å—Ç—å, –∏ –ï–º—É —Ö–≤–∞–ª–∞, –∏ –û–Ω –Ω–∞–¥ –≤—Å—è–∫–æ–π –≤–µ—â—å—é –º–æ—â–µ–Ω. –ì–æ—Å–ø–æ–¥—å, —è –ø—Ä–æ—à—É —É –¢–µ–±—è –±–ª–∞–≥–∞ —ç—Ç–æ–π –Ω–æ—á–∏ –∏ –±–ª–∞–≥–∞ —Ç–æ–≥–æ, —á—Ç–æ –ø–æ—Å–ª–µ –Ω–µ—ë, –∏ –ø—Ä–∏–±–µ–≥–∞—é –∫ –¢–µ–±–µ –æ—Ç –∑–ª–∞ —ç—Ç–æ–π –Ω–æ—á–∏ –∏ –∑–ª–∞ —Ç–æ–≥–æ, —á—Ç–æ –ø–æ—Å–ª–µ –Ω–µ—ë. –ì–æ—Å–ø–æ–¥—å, —è –ø—Ä–∏–±–µ–≥–∞—é –∫ –¢–µ–±–µ –æ—Ç –ª–µ–Ω–∏ –∏ –¥—Ä—è—Ö–ª–æ—Å—Ç–∏ –≤ —Å—Ç–∞—Ä–æ—Å—Ç–∏. –ì–æ—Å–ø–æ–¥—å, —è –ø—Ä–∏–±–µ–≥–∞—é –∫ –¢–µ–±–µ –æ—Ç –º—É—á–µ–Ω–∏–π –≤ –û–≥–Ω–µ –∏ –º—É—á–µ–Ω–∏–π –≤ –º–æ–≥–∏–ª–µ".</div>
                <div class="azkar-reference">–ú—É—Å–ª–∏–º 2723</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ÿßŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ÿ®ŸêŸÉŸé ÿ£ŸéŸÖŸíÿ≥ŸéŸäŸíŸÜŸéÿßÿå ŸàŸéÿ®ŸêŸÉŸé ÿ£ŸéÿµŸíÿ®Ÿéÿ≠ŸíŸÜŸéÿßÿå ŸàŸéÿ®ŸêŸÉŸé ŸÜŸéÿ≠ŸíŸäŸéÿßÿå ŸàŸé–±ŸêŸÉŸé ŸÜŸéŸÖŸèŸàÿ™Ÿèÿå ŸàŸéÿ•ŸêŸÑŸéŸäŸíŸÉŸé ÿßŸÑŸÜŸèŸëÿ¥ŸèŸàÿ±Ÿè</div>
                <div class="azkar-translation">"–û –ê–ª–ª–∞—Ö, —Å –¢–æ–±–æ–π –º—ã –≤—Å—Ç—Ä–µ—á–∞–µ–º –≤–µ—á–µ—Ä, —Å –¢–æ–±–æ–π –≤—Å—Ç—Ä–µ—á–∞–µ–º —É—Ç—Ä–æ, —Å –¢–æ–±–æ–π –º—ã –∂–∏–≤—ë–º –∏ —Å –¢–æ–±–æ–π —É–º–∏—Ä–∞–µ–º, –∏ –∫ –¢–µ–±–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–µ!"</div>
                <div class="azkar-reference">–ê—Ç-–¢–∏—Ä–º–∏–∑–∏ 3391</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê ŸàŸéÿ®Ÿêÿ≠ŸéŸÖŸíÿØŸêŸáŸê</div>
                <div class="azkar-translation">"–ü—Ä–µ—á–∏—Å—Ç –ê–ª–ª–∞—Ö, –∏ —Ö–≤–∞–ª–∞ –ï–º—É" (100 —Ä–∞–∑)</div>
                <div class="azkar-reference">–ú—É—Å–ª–∏–º 2691</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ÿ¢ŸÖŸéŸÜŸé ÿßŸÑÿ±ŸéŸëÿ≥ŸèŸàŸÑŸè ÿ®ŸêŸÖŸéÿß ÿ£ŸèŸÜŸíÿ≤ŸêŸÑŸé ÿ•ŸêŸÑŸéŸäŸíŸáŸê ŸÖŸêŸÜŸí ÿ±Ÿéÿ®ŸêŸëŸáŸê ŸàŸéÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸèŸàŸÜŸé €ö ŸÉŸèŸÑŸåŸë ÿ¢ŸÖŸéŸÜŸé ÿ®ŸêÿßŸÑŸÑŸéŸëŸáŸê ŸàŸéŸÖŸéŸÑŸéÿßÿ¶ŸêŸÉŸéÿ™ŸêŸáŸê ŸàŸéŸÉŸèÿ™Ÿèÿ®ŸêŸáŸê ŸàŸéÿ±Ÿèÿ≥ŸèŸÑŸêŸáŸê ŸÑŸéÿß ŸÜŸèŸÅŸéÿ±ŸêŸëŸÇŸè ÿ®ŸéŸäŸíŸÜŸé ÿ£Ÿéÿ≠ŸéÿØŸç ŸÖŸêŸÜŸí ÿ±Ÿèÿ≥ŸèŸÑŸêŸáŸê €ö ŸàŸéŸÇŸéÿßŸÑŸèŸàÿß ÿ≥ŸéŸÖŸêÿπŸíŸÜŸéÿß ŸàŸéÿ£Ÿéÿ∑ŸéÿπŸíŸÜŸéÿß €ñ ÿ∫ŸèŸÅŸíÿ±ŸéÿßŸÜŸéŸÉŸé ÿ±Ÿéÿ®ŸéŸëŸÜŸéÿß ŸàŸéÿ•ŸêŸÑŸéŸäŸíŸÉŸé ÿßŸÑŸíŸÖŸéÿµŸêŸäÿ±Ÿè</div>
                <div class="azkar-translation">"–ü–æ—Å–ª–∞–Ω–Ω–∏–∫ –∏ –≤–µ—Ä—É—é—â–∏–µ —É–≤–µ—Ä–æ–≤–∞–ª–∏ –≤ —Ç–æ, —á—Ç–æ –Ω–∏—Å–ø–æ—Å–ª–∞–Ω–æ –µ–º—É –æ—Ç –ì–æ—Å–ø–æ–¥–∞. –í—Å–µ –æ–Ω–∏ —É–≤–µ—Ä–æ–≤–∞–ª–∏ –≤ –ê–ª–ª–∞—Ö–∞, –ï–≥–æ –∞–Ω–≥–µ–ª–æ–≤, –ï–≥–æ –ü–∏—Å–∞–Ω–∏—è –∏ –ï–≥–æ –ø–æ—Å–ª–∞–Ω–Ω–∏–∫–æ–≤. –û–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç: "–ú—ã –Ω–µ –¥–µ–ª–∞–µ–º —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –ï–≥–æ –ø–æ—Å–ª–∞–Ω–Ω–∏–∫–∞–º–∏". –û–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç: "–°–ª—É—à–∞–µ–º –∏ –ø–æ–≤–∏–Ω—É–µ–º—Å—è! –¢–≤–æ–µ–≥–æ –ø—Ä–æ—â–µ–Ω–∏—è, –ì–æ—Å–ø–æ–¥—å –Ω–∞—à, –∏ –∫ –¢–µ–±–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –ø—Ä–∏–±—ã—Ç–∏–µ"".</div>
                <div class="azkar-reference">–ö–æ—Ä–∞–Ω 2:285</div>
            </div>
        </div>
        
        <div class="azkar-container" id="after-prayer-azkar">
            <!-- –ê–∑–∫–∞—Ä—ã –ø–æ—Å–ª–µ –Ω–∞–º–∞–∑–∞ -->
            <div class="azkar-item">
                <div class="azkar-text">ÿ£Ÿéÿ≥Ÿíÿ™Ÿéÿ∫ŸíŸÅŸêÿ±Ÿè ÿßŸÑŸÑŸéŸëŸáŸé (3 ŸÖÿ±ÿßÿ™) ÿßŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ÿ£ŸéŸÜŸíÿ™Ÿé ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè ŸàŸéŸÖŸêŸÜŸíŸÉŸé ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè ÿ™Ÿéÿ®Ÿéÿßÿ±ŸéŸÉŸíÿ™Ÿé ŸäŸéÿß ÿ∞Ÿéÿß ÿßŸÑŸíÿ¨ŸéŸÑŸéÿßŸÑŸê ŸàŸéÿßŸÑŸíÿ•ŸêŸÉŸíÿ±ŸéÿßŸÖŸê</div>
                <div class="azkar-translation">"–Ø –ø—Ä–æ—à—É –ø—Ä–æ—â–µ–Ω–∏—è —É –ê–ª–ª–∞—Ö–∞" (3 —Ä–∞–∑–∞). "–û –ê–ª–ª–∞—Ö, –¢—ã - –ú–∏—Ä, –∏ –æ—Ç –¢–µ–±—è - –º–∏—Ä. –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω –¢—ã, –æ –û–±–ª–∞–¥–∞—Ç–µ–ª—å –≤–µ–ª–∏—á–∏—è –∏ –ø–æ—á–µ—Ç–∞!"</div>
                <div class="azkar-reference">–ú—É—Å–ª–∏–º 591</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ŸÑŸéÿß ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑŸéŸëÿß ÿßŸÑŸÑŸéŸëŸáŸè ŸàŸéÿ≠ŸíÿØŸéŸáŸè ŸÑŸéÿß ÿ¥Ÿéÿ±ŸêŸäŸÉŸé ŸÑŸéŸáŸèÿå ŸÑŸéŸáŸè ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸàŸéŸÑŸéŸáŸè ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸèÿå ŸàŸéŸáŸèŸàŸé ÿπŸéŸÑŸéŸâ ŸÉŸèŸÑŸêŸë ÿ¥ŸéŸäŸíÿ°Ÿç ŸÇŸéÿØŸêŸäÿ±Ÿåÿå ÿßŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ŸÑŸéÿß ŸÖŸéÿßŸÜŸêÿπŸé ŸÑŸêŸÖŸéÿß ÿ£ŸéÿπŸíÿ∑ŸéŸäŸíÿ™Ÿéÿå ŸàŸéŸÑŸéÿß ŸÖŸèÿπŸíÿ∑ŸêŸäŸé ŸÑŸêŸÖŸéÿß ŸÖŸéŸÜŸéÿπŸíÿ™Ÿéÿå ŸàŸéŸÑŸéÿß ŸäŸéŸÜŸíŸÅŸéÿπŸè ÿ∞Ÿéÿß ÿßŸÑŸíÿ¨ŸéÿØŸêŸë ŸÖŸêŸÜŸíŸÉŸé ÿßŸÑŸíÿ¨ŸéÿØŸèŸë</div>
                <div class="azkar-translation">"–ù–µ—Ç –±–æ–∂–µ—Å—Ç–≤–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ –ª–∏—à—å –ê–ª–ª–∞—Ö–∞, —É –ö–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–æ—Ç–æ–≤–∞—Ä–∏—â–∞. –ï–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–ª–∞—Å—Ç—å, –∏ –ï–º—É —Ö–≤–∞–ª–∞, –∏ –û–Ω –Ω–∞–¥ –≤—Å—è–∫–æ–π –≤–µ—â—å—é –º–æ—â–µ–Ω. –û –ê–ª–ª–∞—Ö, –Ω–∏–∫—Ç–æ –Ω–µ –ª–∏—à–∏—Ç —Ç–æ–≥–æ, —á—Ç–æ –¢—ã –¥–∞—Ä–æ–≤–∞–ª, –∏ –Ω–∏–∫—Ç–æ –Ω–µ –¥–∞—Ä—É–µ—Ç —Ç–æ–≥–æ, —á–µ–≥–æ –¢—ã –ª–∏—à–∏–ª, –∏ –Ω–µ –ø—Ä–∏–Ω–µ—Å–µ—Ç –ø–æ–ª—å–∑—ã –±–æ–≥–∞—Ç—Å—Ç–≤–æ –æ–±–ª–∞–¥–∞—Ç–µ–ª—è –±–æ–≥–∞—Ç—Å—Ç–≤–∞ –ø—Ä–µ–¥ –¢–æ–±–æ–π".</div>
                <div class="azkar-reference">–ê–ª—å-–ë—É—Ö–∞—Ä–∏ 844</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê (33 ŸÖÿ±ÿ©) ÿå ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸÑŸêŸÑŸéŸëŸáŸê (33 ŸÖÿ±ÿ©) ÿå ÿßŸÑŸÑŸéŸëŸáŸè ÿ£ŸéŸÉŸíÿ®Ÿéÿ±Ÿè (33 ŸÖÿ±ÿ©)</div>
                <div class="azkar-translation">"–ü—Ä–µ—á–∏—Å—Ç –ê–ª–ª–∞—Ö" (33 —Ä–∞–∑–∞), "–•–≤–∞–ª–∞ –ê–ª–ª–∞—Ö—É" (33 —Ä–∞–∑–∞), "–ê–ª–ª–∞—Ö –≤–µ–ª–∏–∫" (33 —Ä–∞–∑–∞)</div>
                <div class="azkar-reference">–ú—É—Å–ª–∏–º 597</div>
            </div>
            
            <div class="azkar-item">
                <div class="azkar-text">ŸÑŸéÿß ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑŸéŸëÿß ÿßŸÑŸÑŸéŸëŸáŸè ŸàŸéÿ≠ŸíÿØŸéŸáŸè ŸÑŸéÿß ÿ¥Ÿéÿ±ŸêŸäŸÉŸé ŸÑŸéŸáŸèÿå ŸÑŸéŸáŸè ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸàŸéŸÑŸéŸáŸè ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸèÿå ŸàŸéŸáŸèŸàŸé ÿπŸéŸÑŸéŸâ ŸÉŸèŸÑŸêŸë ÿ¥ŸéŸäŸíÿ°Ÿç ŸÇŸéÿØŸêŸäÿ±Ÿå</div>
                <div class="azkar-translation">"–ù–µ—Ç –±–æ–∂–µ—Å—Ç–≤–∞, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ –ª–∏—à—å –ê–ª–ª–∞—Ö–∞, —É –ö–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–æ—Ç–æ–≤–∞—Ä–∏—â–∞. –ï–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–ª–∞—Å—Ç—å, –∏ –ï–º—É —Ö–≤–∞–ª–∞, –∏ –û–Ω –Ω–∞–¥ –≤—Å—è–∫–æ–π –≤–µ—â—å—é –º–æ—â–µ–Ω" (10 —Ä–∞–∑ –ø–æ—Å–ª–µ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏ –ø–æ—Å–ª–µ–ø–æ–ª—É–¥–µ–Ω–Ω–æ–≥–æ –Ω–∞–º–∞–∑–∞)</div>
                <div class="azkar-reference">–ê—Ö–º–∞–¥ 4/227</div>
            </div>
        </div>
        
        <div class="ayah-container">
            <div class="ayah">ÿ•ŸêŸÜŸéŸë Ÿ±ŸÑÿµŸéŸëŸÑŸéŸàŸ∞ÿ©Ÿé ŸÉŸéÿßŸÜŸéÿ™Ÿí ÿπŸéŸÑŸéŸâ Ÿ±ŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸêŸäŸÜŸé ŸÉŸêÿ™ŸéŸÄŸ∞ÿ®Ÿã€≠ÿß ŸÖŸéŸëŸàŸíŸÇŸèŸàÿ™Ÿã€≠ÿß</div>
            <div class="ayah-translation">"–í–æ–∏—Å—Ç–∏–Ω—É, –Ω–∞–º–∞–∑ –ø—Ä–µ–¥–ø–∏—Å–∞–Ω –≤–µ—Ä—É—é—â–∏–º –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è" (4:103)</div>
        </div>

        <button class="notify-btn" id="notify-btn">–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –Ω–∞–º–∞–∑–µ</button>
        
        <button class="install-btn" id="install-btn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
    </div>

    <!-- –ê—É–¥–∏–æ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Å–∫—Ä—ã—Ç–æ) -->
    <audio id="fajr-adhan" preload="auto">
        <source src="https://www.islamcan.com/audio/adhan/fajr.mp3" type="audio/mpeg">
    </audio>
    <audio id="adhan" preload="auto">
        <source src="https://www.islamcan.com/audio/adhan/standard.mp3" type="audio/mpeg">
    </audio>

    <script>
        // –°–æ–∑–¥–∞–µ–º –∂–∏–¥–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ñ–æ–Ω–∞
        const liquidBg = document.getElementById('liquid-bg');
        for (let i = 0; i < 5; i++) {
            const element = document.createElement('div');
            element.className = 'liquid-element';
            element.style.width = `${Math.random() * 300 + 100}px`;
            element.style.height = element.style.width;
            element.style.left = `${Math.random() * 100}%`;
            element.style.top = `${Math.random() * 100}%`;
            element.style.animationDelay = `${Math.random() * 10}s`;
            liquidBg.appendChild(element);
        }

        // API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω –Ω–∞–º–∞–∑–∞
        async function getPrayerTimes(city) {
            const date = new Date();
            const day = date.getDate();
            const month = date.getMonth() + 1;
            const year = date.getFullYear();
            
            // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–æ—Ä–æ–¥–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω—ã –•–∞—Å–∞–≤—é—Ä—Ç, –ë–µ–ª–∏–¥–∂–∏, –ê—Ö—Ç—ã –∏ –ö–∞–±–∏—Ä)
            const cities = {
                'moscow': { lat: 55.7558, lng: 37.6176, method: 3 },
                'saint-petersburg': { lat: 59.9343, lng: 30.3351, method: 3 },
                'kazan': { lat: 55.7961, lng: 49.1064, method: 3 },
                'ufa': { lat: 54.7351, lng: 55.9587, method: 3 },
                'makhachkala': { lat: 42.9831, lng: 47.5047, method: 1 },
                'grozny': { lat: 43.3180, lng: 45.6982, method: 1 },
                'novosibirsk': { lat: 55.0084, lng: 82.9357, method: 3 },
                'krasnoyarsk': { lat: 56.0153, lng: 92.8932, method: 3 },
                'khasavyurt': { lat: 43.2509, lng: 46.5877, method: 1 },
                'belidzhi': { lat: 42.1333, lng: 48.0667, method: 1 },
                'ahty': { lat: 41.4647, lng: 47.7408, method: 1 },
                'kabir': { lat: 41.5667, lng: 47.8333, method: 1 }
            };
            
            const { lat, lng, method } = cities[city];
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ 1 (MWL) –¥–ª—è –î–∞–≥–µ—Å—Ç–∞–Ω–∞ –∏ –º–µ—Ç–æ–¥ 3 (Russia) –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
                const response = await fetch(`https://api.aladhan.com/v1/timings/${day}-${month}-${year}?latitude=${lat}&longitude=${lng}&method=${method}&tune=0,0,0,0,0,0,0,0,0`);
                const data = await response.json();
                
                if (data.code === 200 && data.data) {
                    return {
                        fajr: formatTime(data.data.timings.Fajr),
                        sunrise: formatTime(data.data.timings.Sunrise),
                        dhuhr: formatTime(data.data.timings.Dhuhr),
                        asr: formatTime(data.data.timings.Asr),
                        maghrib: formatTime(data.data.timings.Maghrib),
                        isha: formatTime(data.data.timings.Isha)
                    };
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω –Ω–∞–º–∞–∑–∞:', e);
                return getFallbackTimes(city);
            }
            
            return getFallbackTimes(city);
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(timeStr) {
            return timeStr.split(' ')[0];
        }

        // –†–µ–∑–µ—Ä–≤–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–º–∞–∑–∞ (–¥–æ–±–∞–≤–ª–µ–Ω—ã –•–∞—Å–∞–≤—é—Ä—Ç, –ë–µ–ª–∏–¥–∂–∏, –ê—Ö—Ç—ã –∏ –ö–∞–±–∏—Ä)
        function getFallbackTimes(city) {
            const times = {
                'moscow': {
                    fajr: '03:15',
                    sunrise: '05:30',
                    dhuhr: '12:30',
                    asr: '16:15',
                    maghrib: '20:15',
                    isha: '22:30'
                },
                'saint-petersburg': {
                    fajr: '03:45',
                    sunrise: '06:00',
                    dhuhr: '13:00',
                    asr: '16:45',
                    maghrib: '21:00',
                    isha: '23:15'
                },
                'kazan': {
                    fajr: '03:30',
                    sunrise: '05:45',
                    dhuhr: '12:45',
                    asr: '16:30',
                    maghrib: '20:30',
                    isha: '22:45'
                },
                'ufa': {
                    fajr: '04:00',
                    sunrise: '06:15',
                    dhuhr: '13:15',
                    asr: '17:00',
                    maghrib: '20:45',
                    isha: '23:00'
                },
                'makhachkala': {
                    fajr: '03:45',
                    sunrise: '05:30',
                    dhuhr: '12:15',
                    asr: '15:45',
                    maghrib: '19:30',
                    isha: '21:15'
                },
                'grozny': {
                    fajr: '03:30',
                    sunrise: '05:15',
                    dhuhr: '12:00',
                    asr: '15:30',
                    maghrib: '19:15',
                    isha: '21:00'
                },
                'novosibirsk': {
                    fajr: '04:30',
                    sunrise: '06:45',
                    dhuhr: '13:45',
                    asr: '17:30',
                    maghrib: '21:15',
                    isha: '23:30'
                },
                'krasnoyarsk': {
                    fajr: '04:15',
                    sunrise: '06:30',
                    dhuhr: '13:30',
                    asr: '17:15',
                    maghrib: '21:00',
                    isha: '23:15'
                },
                'khasavyurt': {
                    fajr: '03:20',
                    sunrise: '05:15',
                    dhuhr: '12:10',
                    asr: '15:40',
                    maghrib: '19:05',
                    isha: '20:50'
                },
                'belidzhi': {
                    fajr: '03:15',
                    sunrise: '05:10',
                    dhuhr: '12:05',
                    asr: '15:35',
                    maghrib: '19:00',
                    isha: '20:45'
                },
                'ahty': {
                    fajr: '03:10',
                    sunrise: '05:05',
                    dhuhr: '12:00',
                    asr: '15:30',
                    maghrib: '18:55',
                    isha: '20:40'
                },
                'kabir': {
                    fajr: '03:05',
                    sunrise: '05:00',
                    dhuhr: '12:00',
                    asr: '15:30',
                    maghrib: '18:55',
                    isha: '20:40'
                }
            };
            return times[city] || times['moscow'];
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω –Ω–∞–º–∞–∑–∞
        async function updatePrayerTimes(city) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –≤ localStorage
            localStorage.setItem('selectedCity', city);
            
            const times = await getPrayerTimes(city);
            
            document.getElementById('fajr-time').textContent = times.fajr;
            document.getElementById('sunrise-time').textContent = times.sunrise;
            document.getElementById('dhuhr-time').textContent = times.dhuhr;
            document.getElementById('asr-time').textContent = times.asr;
            document.getElementById('maghrib-time').textContent = times.maghrib;
            document.getElementById('isha-time').textContent = times.isha;

            updateCurrentPrayer();
            if (Notification.permission === 'granted') {
                setupPrayerNotifications(city);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ö–∞–∞–±—ã, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–æ—Ä–æ–¥
            if (!window.usingGPS) {
                updateQiblaDirection(city);
            }
        }

        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –Ω–∞–º–∞–∑–∞
        function updateCurrentPrayer() {
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            let nextPrayer = null;
            let minDiff = Infinity;

            // –°–Ω–∞—á–∞–ª–∞ —Å–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
            document.querySelectorAll('.prayer-card').forEach(card => {
                card.classList.remove('current');
            });

            // –ó–∞—Ç–µ–º –Ω–∞—Ö–æ–¥–∏–º —Ç–µ–∫—É—â–∏–π –Ω–∞–º–∞–∑ –∏ —Å–ª–µ–¥—É—é—â–∏–π
            document.querySelectorAll('.prayer-card').forEach(card => {
                const timeStr = card.querySelector('.prayer-time').textContent;
                const [hours, minutes] = timeStr.split(':').map(Number);
                let prayerTime = hours * 60 + minutes;
                let diff = prayerTime - currentTime;

                // –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è, –∑–Ω–∞—á–∏—Ç –≤—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–ª–æ —Å–µ–≥–æ–¥–Ω—è
                if (diff < 0) diff += 1440; // –î–æ–±–∞–≤–ª—è–µ–º 24 —á–∞—Å–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
                
                // –ù–∞—Ö–æ–¥–∏–º —Å–ª–µ–¥—É—é—â–∏–π –Ω–∞–º–∞–∑ (—Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–∑–Ω–∏—Ü–µ–π)
                if (diff < minDiff) {
                    minDiff = diff;
                    nextPrayer = card;
                }

                // –ï—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 5 –º–∏–Ω—É—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞ - –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º
                if (Math.abs(prayerTime - currentTime) <= 5 || Math.abs(prayerTime + 1440 - currentTime) <= 5) {
                    card.classList.add('current');
                }
            });

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª–µ–¥—É—é—â–µ–º –Ω–∞–º–∞–∑–µ
            if (nextPrayer) {
                const name = nextPrayer.querySelector('.prayer-name').textContent;
                document.getElementById('next-prayer-name').textContent = name;
                
                const hours = Math.floor(minDiff / 60);
                const minutes = minDiff % 60;
                const seconds = 59 - now.getSeconds();
                
                document.getElementById('next-prayer-time').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        function startPrayerTimeUpdates() {
            updateCurrentPrayer();
            setInterval(updateCurrentPrayer, 1000);
        }

        // –õ–æ–≥–∏–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞ –∞–∑–∫–∞—Ä–æ–≤
        const azkarSwitcher = document.getElementById('azkar-switcher');
        const azkarOptions = document.querySelectorAll('.azkar-option');
        const azkarSlider = document.getElementById('azkar-slider');
        const azkarContainers = document.querySelectorAll('.azkar-container');
        
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let currentIndex = 0;
        let sliderWidth = azkarSwitcher.offsetWidth / 3;

        function initSlider() {
            sliderWidth = azkarSwitcher.offsetWidth / 3;
            azkarSlider.style.width = `${sliderWidth}px`;
            currentTranslate = currentIndex * sliderWidth;
            prevTranslate = currentTranslate;
            azkarSlider.style.transform = `translateX(${currentTranslate}px)`;
            
            // –£–ª—É—á—à–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–ª–∞–π–¥–µ—Ä–∞
            azkarSlider.style.boxShadow = '0 4px 15px rgba(var(--gold-rgb), 0.3)';
            azkarSlider.style.border = '1px solid rgba(var(--gold-rgb), 0.5)';
        }

        azkarSwitcher.addEventListener('mousedown', dragStart);
        azkarSwitcher.addEventListener('mousemove', drag);
        azkarSwitcher.addEventListener('mouseup', dragEnd);
        azkarSwitcher.addEventListener('mouseleave', dragEnd);

        azkarSwitcher.addEventListener('touchstart', touchStart);
        azkarSwitcher.addEventListener('touchmove', touchDrag);
        azkarSwitcher.addEventListener('touchend', dragEnd);

        azkarOptions.forEach((option, index) => {
            option.addEventListener('click', () => {
                if (!isDragging) {
                    currentIndex = index;
                    setPositionByIndex();
                }
            });
        });

        function getPositionX(event) {
            return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
        }

        function dragStart(event) {
            startPos = getPositionX(event);
            isDragging = true;
            azkarSwitcher.classList.add('dragging');
            requestAnimationFrame(animation);
        }

        function touchStart(event) {
            startPos = event.touches[0].clientX;
            dragStart(event);
        }

        function drag(event) {
            if (isDragging) {
                const currentPosition = getPositionX(event);
                currentTranslate = prevTranslate + currentPosition - startPos;
            }
        }

        function touchDrag(event) {
            const currentPosition = event.touches[0].clientX;
            currentTranslate = prevTranslate + currentPosition - startPos;
            drag(event);
        }

        function dragEnd() {
            isDragging = false;
            azkarSwitcher.classList.remove('dragging');
            
            const movedBy = currentTranslate - prevTranslate;
            if (movedBy > sliderWidth/3 && currentIndex > 0) {
                currentIndex -= 1;
            } else if (movedBy < -sliderWidth/3 && currentIndex < 2) {
                currentIndex += 1;
            }
            
            setPositionByIndex();
        }

        function animation() {
            if (isDragging) {
                setSliderPosition();
                requestAnimationFrame(animation);
            }
        }

        function setSliderPosition() {
            if (currentTranslate < 0) currentTranslate = 0;
            if (currentTranslate > sliderWidth * 2) currentTranslate = sliderWidth * 2;
            azkarSlider.style.transform = `translateX(${currentTranslate}px)`;
        }

        function setPositionByIndex() {
            currentTranslate = currentIndex * sliderWidth;
            prevTranslate = currentTranslate;
            azkarSlider.style.transition = 'transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1)';
            azkarSlider.style.transform = `translateX(${currentTranslate}px)`;
            updateActiveTab();
        }

        function updateActiveTab() {
            azkarOptions.forEach((option, index) => {
                option.classList.toggle('active', index === currentIndex);
            });
            
            const target = azkarOptions[currentIndex].getAttribute('data-target');
            azkarContainers.forEach(container => {
                container.classList.remove('active');
                if (container.id === `${target}-azkar`) {
                    container.classList.add('active');
                }
            });
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º
        const themeButtons = document.querySelectorAll('.theme-btn');
        
        themeButtons.forEach(button => {
            button.addEventListener('click', function() {
                // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ç–µ–º
                document.body.classList.remove('theme-sapphire', 'theme-burgundy', 'theme-amber');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É
                const themeClass = this.getAttribute('data-theme-class');
                if (themeClass) {
                    document.body.classList.add(themeClass);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                themeButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–º—É –≤ localStorage
                localStorage.setItem('selectedTheme', themeClass);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–º—É –∫–æ–º–ø–∞—Å–∞
                updateCompassTheme(themeClass);
            });
        });
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º—ã –∫–æ–º–ø–∞—Å–∞
        function updateCompassTheme(themeClass) {
            const compass = document.querySelector('.qibla-compass');
            
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ç–µ–º –∫–æ–º–ø–∞—Å–∞
            compass.classList.remove(
                'compass-theme-emerald',
                'compass-theme-sapphire',
                'compass-theme-burgundy',
                'compass-theme-amber'
            );
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å —Ç–µ–º—ã –∫–æ–º–ø–∞—Å–∞
            switch(themeClass) {
                case 'theme-sapphire':
                    compass.classList.add('compass-theme-sapphire');
                    break;
                case 'theme-burgundy':
                    compass.classList.add('compass-theme-burgundy');
                    break;
                case 'theme-amber':
                    compass.classList.add('compass-theme-amber');
                    break;
                default:
                    compass.classList.add('compass-theme-emerald');
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±—Ä–∞—É–∑–µ—Ä–∞
        function checkBrowserCapabilities() {
            if (!('serviceWorker' in navigator)) {
                console.warn('Service Worker –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                return false;
            }
            
            if (!('Notification' in window)) {
                console.warn('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è');
                return false;
            }
            
            if (!('periodicSync' in navigator.serviceWorker)) {
                console.warn('–§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
            }
            
            return true;
        }

        // PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
        let deferredPrompt;
        const installBtn = document.getElementById('install-btn');

        function checkPWAInstallable() {
            // –î–ª—è Android –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö PWA –ø–ª–∞—Ç—Ñ–æ—Ä–º
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installBtn.style.display = 'block';
                
                // –î–ª—è Chrome –Ω–∞ Android –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤—Å–µ–≥–¥–∞
                if (isAndroid()) {
                    installBtn.style.display = 'block';
                }
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Android
            if (isAndroid() && !window.matchMedia('(display-mode: standalone)').matches) {
                installBtn.style.display = 'block';
            }
        }

        function isAndroid() {
            return /android/i.test(navigator.userAgent);
        }

        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    installBtn.style.display = 'none';
                }
                deferredPrompt = null;
            } else if (isAndroid()) {
                // –î–ª—è Android –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                alert('–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:\n1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ (—Ç—Ä–∏ —Ç–æ—á–∫–∏)\n2. –í—ã–±–µ—Ä–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"\n3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É');
            }
        });

        window.addEventListener('appinstalled', () => {
            installBtn.style.display = 'none';
        });

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∞–∑–∞–Ω–æ–º
        const notifyBtn = document.getElementById('notify-btn');
        const fajrAdhan = document.getElementById('fajr-adhan');
        const standardAdhan = document.getElementById('adhan');
        
        function isIOS() {
            return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                  (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
        }
        
        function showIOSNotificationAlert() {
            alert('–î–ª—è —Ä–∞–±–æ—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–∞ iOS:\n1. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω\n2. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –∫–∞–∫ standalone-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n3. –í–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Safari\n4. –ù–∞–∂–º–∏—Ç–µ "–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –Ω–∞–º–∞–∑–µ" —Å–Ω–æ–≤–∞');
        }
        
        async function setupPrayerNotifications(city) {
            if (!checkBrowserCapabilities()) return;
            
            if (Notification.permission === 'granted') {
                await schedulePrayerNotifications(city);
                
                // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ñ–æ–Ω–æ–≤—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
                if ('serviceWorker' in navigator && 'periodicSync' in navigator.serviceWorker) {
                    try {
                        const reg = await navigator.serviceWorker.ready;
                        await reg.periodicSync.register('prayer-times', {
                            minInterval: 12 * 60 * 60 * 1000 // 12 —á–∞—Å–æ–≤
                        });
                        console.log('–§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞');
                    } catch (e) {
                        console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ–æ–Ω–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:', e);
                    }
                }
            }
        }
        
        async function schedulePrayerNotifications(city) {
            // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            if ('serviceWorker' in navigator) {
                const registration = await navigator.serviceWorker.getRegistration();
                if (registration) {
                    registration.getNotifications().then(notifications => {
                        notifications.forEach(notification => notification.close());
                    });
                }
            }
            
            const times = await getPrayerTimes(city);
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–º–∞–∑–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ service worker
            if ('serviceWorker' in navigator) {
                const registration = await navigator.serviceWorker.ready;
                registration.active.postMessage({
                    type: 'SET_PRAYER_TIMES',
                    times: times,
                    city: city
                });
            }
            
            for (const [prayer, time] of Object.entries(times)) {
                if (prayer === 'sunrise') continue; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –≤–æ—Å—Ö–æ–¥
                
                const [hours, minutes] = time.split(':').map(Number);
                const prayerTime = hours * 60 + minutes;
                let diff = prayerTime - currentTime;
                
                // –ï—Å–ª–∏ –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ —É–∂–µ –ø—Ä–æ—à–ª–æ —Å–µ–≥–æ–¥–Ω—è, –ø–ª–∞–Ω–∏—Ä—É–µ–º –Ω–∞ –∑–∞–≤—Ç—Ä–∞
                if (diff < 0) diff += 1440;
                
                // –ü–ª–∞–Ω–∏—Ä—É–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –Ω–∞–º–∞–∑–∞
                const notificationTime = diff - 5;
                if (notificationTime > 0) {
                    setTimeout(() => {
                        showPrayerNotification(prayer);
                    }, notificationTime * 60000);
                }
            }
        }
        
        function showPrayerNotification(prayer) {
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∞–∑–∞–Ω
            if (prayer === 'fajr') {
                fajrAdhan.play().catch(e => console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–∑–∞–Ω —Ñ–∞–¥–∂—Ä:', e));
            } else {
                standardAdhan.play().catch(e => console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–∑–∞–Ω:', e));
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ service worker
            if ('serviceWorker' in navigator && Notification.permission === 'granted') {
                navigator.serviceWorker.ready.then(reg => {
                    reg.showNotification('–í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞', {
                        body: `–°–∫–æ—Ä–æ –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ ${getPrayerName(prayer)}`,
                        icon: 'https://img.icons8.com/ios/512/islamic/prayer.png',
                        vibrate: [200, 100, 200, 100, 200],
                        tag: `prayer-${prayer}`,
                        data: {
                            prayer: prayer
                        }
                    });
                });
            }
        }
        
        function getPrayerName(prayer) {
            const names = {
                'fajr': '–§–∞–¥–∂—Ä',
                'dhuhr': '–ó—É—Ö—Ä',
                'asr': '–ê—Å—Ä',
                'maghrib': '–ú–∞–≥—Ä–∏–±',
                'isha': '–ò—à–∞'
            };
            return names[prayer] || prayer;
        }
        
        async function handleNotificationPermission() {
            let permission = Notification.permission;
            
            if (permission === 'default') {
                permission = await Notification.requestPermission();
            }
            
            if (permission === 'granted') {
                const city = document.getElementById('city-select').value;
                if (city) {
                    await setupPrayerNotifications(city);
                    notifyBtn.textContent = '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã';
                    notifyBtn.classList.add('active');
                } else {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥');
                }
            } else {
                alert('–î–ª—è —Ä–∞–±–æ—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞.');
            }
        }

        notifyBtn.addEventListener('click', async () => {
            if (isIOS()) {
                if (window.navigator.standalone) {
                    await handleNotificationPermission();
                } else {
                    showIOSNotificationAlert();
                }
                return;
            }
            
            await handleNotificationPermission();
        });

        // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ö–∞–∞–±—É
        let currentQiblaAngle = 0;
        let usingGPS = false;
        let watchId = null;
        let compassPermissionGranted = false;
        let lastHeading = 0;
        let lastAccuracy = 0;

        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ö–∞–∞–±—ã
        const kaabaLat = 21.4225;
        const kaabaLng = 39.8262;

        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–æ—Ä–æ–¥–æ–≤
        const cities = {
            'moscow': { lat: 55.7558, lng: 37.6176 },
            'saint-petersburg': { lat: 59.9343, lng: 30.3351 },
            'kazan': { lat: 55.7961, lng: 49.1064 },
            'ufa': { lat: 54.7351, lng: 55.9587 },
            'makhachkala': { lat: 42.9831, lng: 47.5047 },
            'grozny': { lat: 43.3180, lng: 45.6982 },
            'novosibirsk': { lat: 55.0084, lng: 82.9357 },
            'krasnoyarsk': { lat: 56.0153, lng: 92.8932 },
            'khasavyurt': { lat: 43.2509, lng: 46.5877 },
            'belidzhi': { lat: 42.1333, lng: 48.0667 },
            'ahty': { lat: 41.4647, lng: 47.7408 },
            'kabir': { lat: 41.5667, lng: 47.8333 }
        };

        function calculateQiblaDirection(lat, lng) {
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —É–≥–æ–ª –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –ö–∞–∞–±—É
            const phiK = kaabaLat * Math.PI / 180.0;
            const lambdaK = kaabaLng * Math.PI / 180.0;
            const phi = lat * Math.PI / 180.0;
            const lambda = lng * Math.PI / 180.0;
            
            const psi = 180.0 / Math.PI * Math.atan2(
                Math.sin(lambdaK - lambda),
                Math.cos(phi) * Math.tan(phiK) - Math.sin(phi) * Math.cos(lambdaK - lambda)
            );
            
            return (psi + 360.0) % 360.0;
        }

        function updateQiblaDirection(city) {
            const { lat, lng } = cities[city] || cities['moscow'];
            currentQiblaAngle = calculateQiblaDirection(lat, lng);
            updateCompassDisplay();
            document.getElementById('location-status').textContent = '–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥';
        }

        function updateCompassDisplay() {
            document.getElementById('qibla-arrow').style.transform = `translate(-50%, -50%) rotate(${currentQiblaAngle}deg)`;
            document.getElementById('qibla-degree').textContent = `${Math.round(currentQiblaAngle)}¬∞`;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–≥–æ–ª –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ service worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.ready.then(reg => {
                    reg.active.postMessage({
                        type: 'SET_QIBLA_ANGLE',
                        angle: currentQiblaAngle
                    });
                });
            }
        }

        function handleOrientation(event) {
            if (!compassPermissionGranted) return;
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞—Å–∞ (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–µ–≤–µ—Ä–∞)
            let compassHeading = event.alpha; // 0-360 –≥—Ä–∞–¥—É—Å–æ–≤
            
            // –î–ª—è iOS - –∏—Å–ø–æ–ª—å–∑—É–µ–º absolute orientation
            if (event.webkitCompassHeading !== undefined) {
                compassHeading = event.webkitCompassHeading;
            }
            
            if (compassHeading !== null) {
                // –§–∏–ª—å—Ç—Ä—É–µ–º —à—É–º –∏ —Ä–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
                const alpha = 0.15; // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (0-1)
                const filteredHeading = lastHeading * (1 - alpha) + compassHeading * alpha;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã–∑–æ–≤–∞
                lastHeading = filteredHeading;
                
                // –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç –∫–æ–º–ø–∞—Å–∞ –≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
                document.getElementById('compass-face').style.transform = `rotate(${-filteredHeading}deg)`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–µ–ª–∫—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –ö–∞–∞–±—É —Å —É—á–µ—Ç–æ–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                const qiblaArrow = document.getElementById('qibla-arrow');
                qiblaArrow.style.transform = `translate(-50%, -50%) rotate(${currentQiblaAngle}deg)`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–µ–ª–∫—É —Å–µ–≤–µ—Ä–∞
                const compassNeedle = document.getElementById('compass-needle');
                compassNeedle.style.transform = `translate(-50%, -50%) rotate(${0}deg)`;
            }
        }

        async function startCompass() {
            try {
                // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –¥–∞—Ç—á–∏–∫–∞–º (–¥–ª—è iOS 13+)
                if (typeof DeviceOrientationEvent !== 'undefined' && 
                    typeof DeviceOrientationEvent.requestPermission === 'function') {
                    const permission = await DeviceOrientationEvent.requestPermission();
                    if (permission !== 'granted') {
                        alert('–î–ª—è —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–∞—Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –¥–∞—Ç—á–∏–∫–∞–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.');
                        return false;
                    }
                }
                
                compassPermissionGranted = true;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
                if (window.DeviceOrientationEvent) {
                    if ('ondeviceorientationabsolute' in window) {
                        window.addEventListener('deviceorientationabsolute', handleOrientation, true);
                    } else if ('ondeviceorientation' in window) {
                        window.addEventListener('deviceorientation', handleOrientation, true);
                    }
                }
                
                return true;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–ø–∞—Å–∞:', error);
                return false;
            }
        }

        function stopCompass() {
            window.removeEventListener('deviceorientation', handleOrientation, true);
            window.removeEventListener('deviceorientationabsolute', handleOrientation, true);
            document.getElementById('compass-face').style.transform = 'rotate(0deg)';
            compassPermissionGranted = false;
        }

        function startGPS() {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
            }
            
            watchId = navigator.geolocation.watchPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    const accuracy = position.coords.accuracy;
                    
                    // –§–∏–ª—å—Ç—Ä—É–µ–º –Ω–µ—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    if (accuracy > 100) {
                        document.getElementById('location-status').textContent = 
                            `–ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å GPS (${accuracy.toFixed(0)}–º). –î–µ—Ä–∂–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–æ–≤–Ω–æ.`;
                        return;
                    }
                    
                    currentQiblaAngle = calculateQiblaDirection(lat, lng);
                    updateCompassDisplay();
                    document.getElementById('location-status').textContent = 
                        `–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPS (—Ç–æ—á–Ω–æ—Å—Ç—å: ${accuracy.toFixed(0)}–º)`;
                },
                (error) => {
                    console.error('–û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', error);
                    document.getElementById('location-status').textContent = 
                        '–û—à–∏–±–∫–∞ GPS. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥';
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞
                    const city = document.getElementById('city-select').value;
                    if (city) {
                        updateQiblaDirection(city);
                    }
                    usingGPS = false;
                    document.getElementById('use-gps-btn').disabled = false;
                    document.getElementById('use-city-btn').disabled = true;
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        function stopGPS() {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
                watchId = null;
            }
        }

        document.getElementById('use-gps-btn').addEventListener('click', async () => {
            if (!navigator.geolocation) {
                alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º');
                return;
            }
            
            const compassStarted = await startCompass();
            if (!compassStarted) return;
            
            startGPS();
            usingGPS = true;
            document.getElementById('use-gps-btn').disabled = true;
            document.getElementById('use-city-btn').disabled = false;
            document.getElementById('location-status').textContent = '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...';
        });

        document.getElementById('use-city-btn').addEventListener('click', () => {
            stopCompass();
            stopGPS();
            usingGPS = false;
            document.getElementById('use-gps-btn').disabled = false;
            document.getElementById('use-city-btn').disabled = true;
            
            const city = document.getElementById('city-select').value;
            if (city) {
                updateQiblaDirection(city);
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
            const citySelect = document.getElementById('city-select');
            const savedCity = localStorage.getItem('selectedCity');
            
            if (savedCity) {
                citySelect.value = savedCity;
                // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω –Ω–∞–º–∞–∑–∞ –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                updatePrayerTimes(savedCity).then(() => {
                    startPrayerTimeUpdates();
                });
            }
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É
            const savedTheme = localStorage.getItem('selectedTheme');
            if (savedTheme) {
                document.body.classList.add(savedTheme);
                document.querySelector(`.theme-btn[data-theme-class="${savedTheme}"]`).classList.add('active');
                updateCompassTheme(savedTheme);
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–∞–π–¥–µ—Ä
            initSlider();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            if (Notification.permission === 'granted') {
                const city = citySelect.value;
                if (city) {
                    setupPrayerNotifications(city);
                    notifyBtn.textContent = '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã';
                    notifyBtn.classList.add('active');
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º PWA —É—Å—Ç–∞–Ω–æ–≤–∫—É
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => {
                        console.log('ServiceWorker registration successful');
                        checkPWAInstallable();
                    })
                    .catch(err => console.log('ServiceWorker registration failed: ', err));
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
        document.getElementById('city-select').addEventListener('change', async function() {
            if (this.value) {
                await updatePrayerTimes(this.value);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ø–æ–ª–Ω–æ—á—å
                const now = new Date();
                const midnight = new Date(
                    now.getFullYear(),
                    now.getMonth(),
                    now.getDate() + 1,
                    0, 0, 0
                );
                const timeToMidnight = midnight - now;
                
                setTimeout(() => {
                    updatePrayerTimes(this.value);
                    setInterval(() => updatePrayerTimes(this.value), 86400000);
                }, timeToMidnight);
            }
        });
    </script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js').then(
                    function(registration) {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    },
                    function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    }
                );
            });
        }
    </script>

    <!-- Service Worker Script (inline for demo purposes) -->
    <script id="sw-script" type="text/javascript">
        // –≠—Ç–æ—Ç –∫–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ sw.js
        const CACHE_NAME = 'prayer-times-v3';
        const ASSETS_TO_CACHE = [
            '/',
            '/index.html',
            'https://img.icons8.com/ios/512/islamic/prayer.png',
            'https://www.islamcan.com/audio/adhan/fajr.mp3',
            'https://www.islamcan.com/audio/adhan/standard.mp3'
        ];

        self.addEventListener('install', (event) => {
            event.waitUntil(
                caches.open(CACHE_NAME)
                    .then((cache) => {
                        console.log('–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤');
                        return cache.addAll(ASSETS_TO_CACHE);
                    })
                    .then(() => self.skipWaiting())
            );
        });

        self.addEventListener('activate', (event) => {
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∫—ç—à–∏
            event.waitUntil(
                caches.keys().then(cacheNames => {
                    return Promise.all(
                        cacheNames.map(cache => {
                            if (cache !== CACHE_NAME) {
                                console.log('–£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –∫—ç—à:', cache);
                                return caches.delete(cache);
                            }
                        })
                    );
                }).then(() => {
                    console.log('–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π Service Worker');
                    return self.clients.claim();
                })
            );
        });

        self.addEventListener('fetch', (event) => {
            // –î–ª—è PWA –Ω–∞ Android - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ index.html
            if (event.request.mode === 'navigate') {
                event.respondWith(
                    caches.match('/index.html')
                        .then(response => response || fetch(event.request))
                        .catch(() => caches.match('/index.html'))
                );
            } else {
                event.respondWith(
                    caches.match(event.request)
                        .then(response => response || fetch(event.request))
                );
            }
        });

        let prayerTimes = {};
        let qiblaAngle = 0;

        self.addEventListener('message', (event) => {
            if (event.data.type === 'SET_PRAYER_TIMES') {
                prayerTimes = {
                    times: event.data.times,
                    city: event.data.city
                };
                console.log('Prayer times saved in Service Worker');
            }
            
            if (event.data.type === 'SET_QIBLA_ANGLE') {
                qiblaAngle = event.data.angle;
                console.log('Qibla angle saved in Service Worker:', qiblaAngle);
            }
        });

        self.addEventListener('periodicsync', (event) => {
            if (event.tag === 'prayer-times') {
                event.waitUntil(checkPrayerTimes());
            }
        });

        function checkPrayerTimes() {
            if (!prayerTimes.times) return;
            
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            
            for (const [prayer, time] of Object.entries(prayerTimes.times)) {
                if (prayer === 'sunrise') continue;
                
                const [hours, minutes] = time.split(':').map(Number);
                const prayerTime = hours * 60 + minutes;
                let diff = prayerTime - currentTime;
                
                if (diff <= 5) {
                    showNotification(prayer);
                }
            }
        }

        function showNotification(prayer) {
            const prayerNames = {
                'fajr': '–§–∞–¥–∂—Ä',
                'dhuhr': '–ó—É—Ö—Ä',
                'asr': '–ê—Å—Ä',
                'maghrib': '–ú–∞–≥—Ä–∏–±',
                'isha': '–ò—à–∞'
            };
            
            self.registration.showNotification('–í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞', {
                body: `–ù–∞—Å—Ç—É–ø–∏–ª–æ –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ ${prayerNames[prayer]}`,
                icon: 'https://img.icons8.com/ios/512/islamic/prayer.png',
                vibrate: [200, 100, 200, 100, 200],
                tag: `prayer-${prayer}-${Date.now()}`,
                data: { prayer: prayer }
            });
        }

        self.addEventListener('notificationclick', (event) => {
            event.notification.close();
            event.waitUntil(
                clients.matchAll({ type: 'window' })
                    .then((clientList) => {
                        if (clients.openWindow) {
                            return clients.openWindow('/');
                        }
                    })
            );
        });
    </script>

    <script>
        // –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª sw.js –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            const swScriptContent = document.getElementById('sw-script').textContent;
            const blob = new Blob([swScriptContent], { type: 'text/javascript' });
            const swUrl = URL.createObjectURL(blob);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é Service Worker —Å –Ω–æ–≤—ã–º URL
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register(swUrl)
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            }
        });
    </script>
</body>
</html>
